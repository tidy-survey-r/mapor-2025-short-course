<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Rebecca J. Powell">
  <meta name="author" content="Isabella C. Velásquez">
  <meta name="dcterms.date" content="2025-11-21">
  <title>Categorical Survey of  Complex Survey Data in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-ece81308b4ece17005684a411c59bf6e.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background="#087e8b" class="quarto-title-block center">
  <h1 class="title">Categorical Survey of <br>Complex Survey Data in R</h1>
  <p class="subtitle">A Hands-On Course</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Rebecca J. Powell 
</div>
        <p class="quarto-title-affiliation">
            Fors Marsh
          </p>
    </div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Isabella C. Velásquez 
</div>
        <p class="quarto-title-affiliation">
            Posit
          </p>
    </div>
</div>

  <p class="date">2025-11-21</p>
</section>
<section>
<section id="introduction" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Introduction</h1>

</section>
<section id="about-us" class="slide level2">
<h2>About Us</h2>
<div class="columns">
<div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/RebeccaPowell_Headshot.jpeg" class="quarto-figure quarto-figure-center" width="200"></p>
</figure>
</div>
<center>
<p><strong>Rebecca Powell</strong></p>
Fors Marsh
</center>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/IsabellaVelasquez_Headshot.jpeg" class="quarto-figure quarto-figure-center" width="200"></p>
</figure>
</div>
<center>
<p><strong>Isabella Velásquez</strong></p>
Posit
</center>
</div></div>
<aside class="notes">
<p>Each of us give a brief intro on our experience/background</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="background" class="slide level2 smaller">
<h2>Background</h2>
<ul>
<li>This tutorial largely builds off our book written with Stephanie Zimmer (RTI): Exploring Complex Survey Data Analysis Using R
<ul>
<li><a href="https://tidy-survey-r.github.io/site/" class="uri">https://tidy-survey-r.github.io/site/</a></li>
</ul></li>
<li>The book covers additional topics outside this tutorial including:
<ul>
<li>Overview of survey process</li>
<li>Linear regression and logistic regression</li>
<li>Communication of results (tables and plots)</li>
<li>Reproducible research best practices</li>
</ul></li>
<li>Not covered
<ul>
<li>Weighting (calibration, post-stratification, raking, etc.)</li>
<li>Survival analysis</li>
<li>Nonlinear models</li>
</ul></li>
</ul>
</section>
<section id="motivation" class="slide level2">
<h2>Motivation</h2>
<ul>
<li>We are R users who work with survey data regularly</li>
<li>We wanted to share knowledge with
<ul>
<li>R users who may be inaccurately analyzing survey data</li>
<li>SAS/SUDAAN/Stata users who may not know about the capabilities of R</li>
</ul></li>
<li>{srvyr} package developed using tidyverse style syntax</li>
</ul>
</section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<p><strong>Tidyverse familiarity</strong></p>
<div>
<ul>
<li class="fragment">Selecting a set of variables (<code>select(starts_with("TOT"))</code>)</li>
<li class="fragment">Creating new variables with <code>mutate()</code></li>
<li class="fragment">Summarizing data with <code>summarize()</code></li>
<li class="fragment">Using <code>group_by()</code> with <code>summarize()</code> to create group summaries</li>
</ul>
</div>
</section>
<section id="overview-of-tutorial" class="slide level2">
<h2>Overview of tutorial</h2>
<ul>
<li>At the end of this tutorial, you should be able to
<ul>
<li>Calculate point estimates and their standard errors with survey data
<ul>
<li>Proportions, totals, and counts</li>
</ul></li>
<li>Perform chi-squared tests</li>
<li>Conduct basic logistic regression</li>
<li>Specify a survey design in R to create a survey object</li>
</ul></li>
</ul>
</section>
<section id="roadmap-for-today" class="slide level2">
<h2>Roadmap for today</h2>
<ul>
<li>Getting started</li>
<li>Descriptive analysis</li>
<li>Statistical testing</li>
<li>Modeling</li>
<li>Sampling design</li>
</ul>
</section>
<section id="logistics" class="slide level2">
<h2>Logistics</h2>
<ul>
<li>We will be using Posit Cloud for exercises</li>
<li>All materials are found at:
<ul>
<li><a href="https://tidy-survey-r.github.io/mapor-2025-short-course/full-slide-deck.html" class="uri">https://tidy-survey-r.github.io/mapor-2025-short-course/full-slide-deck.html</a> (Site)</li>
<li><a href="https://github.com/tidy-survey-r/mapor-2025-short-course/" class="uri">https://github.com/tidy-survey-r/mapor-2025-short-course/</a> (Source)</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="warm-up" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Warm Up</h1>

</section>
<section id="welcome-to-the-towny-data" class="slide level2">
<h2>Welcome to the Towny Data</h2>
<ul>
<li>We’ll be using the <code>towny</code> data for warm-up exercises</li>
<li>Available in the {gt} package</li>
</ul>

<img data-src="images/towny.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="welcome-to-the-towny-data-1" class="slide level2">
<h2>Welcome to the Towny Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(gt)</span>
<span id="cb1-3"><a></a><span class="fu">glimpse</span>(towny)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 414
Columns: 25
$ name                     &lt;chr&gt; "Addington Highlands", "Adelaide Metcalfe"…
$ website                  &lt;chr&gt; "https://addingtonhighlands.ca", "https://…
$ status                   &lt;chr&gt; "lower-tier", "lower-tier", "lower-tier", …
$ csd_type                 &lt;chr&gt; "township", "township", "township", "towns…
$ census_div               &lt;chr&gt; "Lennox and Addington", "Middlesex", "Simc…
$ latitude                 &lt;dbl&gt; 45.00000, 42.95000, 44.13333, 45.52917, 43…
$ longitude                &lt;dbl&gt; -77.25000, -81.70000, -79.93333, -76.89694…
$ land_area_km2            &lt;dbl&gt; 1293.99, 331.11, 371.53, 519.59, 66.64, 11…
$ population_1996          &lt;int&gt; 2429, 3128, 9359, 2837, 64430, 1027, 8315,…
$ population_2001          &lt;int&gt; 2402, 3149, 10082, 2824, 73753, 956, 8593,…
$ population_2006          &lt;int&gt; 2512, 3135, 10695, 2716, 90167, 958, 8654,…
$ population_2011          &lt;int&gt; 2517, 3028, 10603, 2844, 109600, 864, 9196…
$ population_2016          &lt;int&gt; 2318, 2990, 10975, 2935, 119677, 969, 9680…
$ population_2021          &lt;int&gt; 2534, 3011, 10989, 2995, 126666, 954, 9949…
$ density_1996             &lt;dbl&gt; 1.88, 9.45, 25.19, 5.46, 966.84, 8.81, 21.…
$ density_2001             &lt;dbl&gt; 1.86, 9.51, 27.14, 5.44, 1106.74, 8.20, 21…
$ density_2006             &lt;dbl&gt; 1.94, 9.47, 28.79, 5.23, 1353.05, 8.22, 22…
$ density_2011             &lt;dbl&gt; 1.95, 9.14, 28.54, 5.47, 1644.66, 7.41, 23…
$ density_2016             &lt;dbl&gt; 1.79, 9.03, 29.54, 5.65, 1795.87, 8.31, 24…
$ density_2021             &lt;dbl&gt; 1.96, 9.09, 29.58, 5.76, 1900.75, 8.18, 25…
$ pop_change_1996_2001_pct &lt;dbl&gt; -0.0111, 0.0067, 0.0773, -0.0046, 0.1447, …
$ pop_change_2001_2006_pct &lt;dbl&gt; 0.0458, -0.0044, 0.0608, -0.0382, 0.2226, …
$ pop_change_2006_2011_pct &lt;dbl&gt; 0.0020, -0.0341, -0.0086, 0.0471, 0.2155, …
$ pop_change_2011_2016_pct &lt;dbl&gt; -0.0791, -0.0125, 0.0351, 0.0320, 0.0919, …
$ pop_change_2016_2021_pct &lt;dbl&gt; 0.0932, 0.0070, 0.0013, 0.0204, 0.0584, -0…</code></pre>
</div>
</div>
</section>
<section id="posit-cloud" class="slide level2">
<h2>Posit Cloud</h2>
<ul>
<li>We will be using Posit Cloud for exercises</li>
<li>Posit Cloud has the same features and appearance as RStudio for ease of use</li>
<li>Access the project and files Posit Cloud (requires a free account)</li>
<li>Create a permanent copy if you want to save your work and access later</li>
</ul>
</section></section>
<section id="your-turn" class="title-slide slide level1 center" data-background-image="images/header.png">
<h1>Your Turn</h1>
<ul>
<li>Go to bit.ly/MAPOR-2025-short-course</li>
<li>Open <code>02-getting-started_exercises.qmd</code></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_f8cd78b3" data-warn-when="180" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">08</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<div class="footer">
<p>bit.ly/MAPOR-2025-short-course</p>
</div>
</section>

<section>
<section id="packages" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Packages</h1>

</section>
<section id="r-packages-for-survey-analysis" class="slide level2">
<h2>R Packages for Survey Analysis</h2>
<ul>
<li>{survey} package first on CRAN in 2003
<ul>
<li>descriptive analysis</li>
<li>statistical testing</li>
<li>modeling</li>
<li>weighting</li>
</ul></li>
<li>{srvyr} package first on CRAN in 2016
<ul>
<li>“wrapper” for {survey} with {tidyverse}-style syntax</li>
<li>only descriptive analysis</li>
</ul></li>
</ul>
</section>
<section id="install-packages" class="slide level2">
<h2>Install Packages</h2>
<p>Install packages for data wrangling and survey analysis:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"survey"</span>, <span class="st">"srvyr"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>Install {srvyrexploR} to access the survey data for today’s short course:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">install.packages</span>(<span class="st">"pak"</span>)</span>
<span id="cb4-2"><a></a>pak<span class="sc">::</span><span class="fu">pak</span>(<span class="st">"tidy-survey-r/srvyrexploR"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Load the packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a></a><span class="fu">library</span>(survey)</span>
<span id="cb5-3"><a></a><span class="fu">library</span>(srvyr)</span>
<span id="cb5-4"><a></a><span class="fu">library</span>(srvyrexploR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</div>
<aside><div>
<p>Note: Installation of packages is already done for you on Posit Cloud</p>
</div></aside></section></section>
<section>
<section id="data-and-design-object" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Data and Design Object</h1>

</section>
<section id="american-national-election-studies-anes-2024" class="slide level2 smaller">
<h2>American National Election Studies (ANES) 2024</h2>
<div>
<ul>
<li class="fragment">Stored as <code>anes_2024</code> in {srvyrexploR}</li>
<li class="fragment">Pre- and post-election surveys fielded almost every 2 years since 1948</li>
<li class="fragment">Topics include voter registration status, candidate preference, opinions on country and government, party and ideology affiliation, opinions on policy, news sources, and more</li>
<li class="fragment">Collaboration of Stanford, University of Michigan - funding by the National Science Foundation</li>
<li class="fragment"><b>Target Population</b>: US citizens, 18 and older living in US</li>
<li class="fragment"><b>Mode</b>: In-Person, Web, videoconference, Paper, or telephone</li>
<li class="fragment"><b>Sample Information</b>: Pseudo-strata and pseudo-cluster included for variance estimation</li>
</ul>
<p><a href="https://electionstudies.org/">https://electionstudies.org/</a></p>
</div>
</section>
<section id="american-national-election-studies-anes-2024-1" class="slide level2">
<h2>American National Election Studies (ANES) 2024</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>anes_2024 <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">matches</span>(<span class="st">"^V</span><span class="sc">\\</span><span class="st">d"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,964
Columns: 23
$ CaseID                  &lt;dbl&gt; 140001, 140002, 140003, 140004, 140005, 140…
$ InterviewMode_Pre       &lt;fct&gt; 2. Internet (WEB), 2. Internet (WEB), 2. In…
$ InterviewMode_Post      &lt;fct&gt; 2. Internet (WEB), 2. Internet (WEB), 2. In…
$ Weight                  &lt;dbl&gt; 0.7809746, 2.5070750, 0.8144009, 0.2634901,…
$ Stratum                 &lt;dbl&gt; 90, 107, 122, 110, 104, 118, 88, 118, 122, …
$ VarUnit                 &lt;dbl&gt; 2, 2, 1, 2, 1, 2, 1, 2, 2, 1, 1, 2, 2, 2, 1…
$ CampaignInterest        &lt;fct&gt; 1. Very much interested, 3. Not much intere…
$ VotedPres2020           &lt;fct&gt; "1. Yes, voted", "2. No, didn't vote", "1. …
$ VotedPres2020_selection &lt;fct&gt; 2. Donald Trump, NA, 1. Joe Biden, NA, NA, …
$ PartyID                 &lt;fct&gt; 7. Strong Republican, 4. Independent, 1. St…
$ TrustGovernment         &lt;fct&gt; 5. Never, 5. Never, 4. Some of the time, 4.…
$ TrustPeople             &lt;fct&gt; 3. About half the time, 3. About half the t…
$ Age                     &lt;dbl&gt; 50, 41, 44, 45, 80, 75, 41, 49, 45, 41, 59,…
$ Education               &lt;dbl&gt; 13, 10, 10, 11, 16, 10, 11, 10, 9, 9, 9, 9,…
$ RaceEth                 &lt;fct&gt; "3. Hispanic", "4. Asian or Native Hawaiian…
$ Sex                     &lt;fct&gt; 1. Male, 2. Female, 2. Female, 1. Male, 1. …
$ Income                  &lt;fct&gt; "27. $175,000-249,999", "26. $150,000-174,9…
$ EarlyVote2024           &lt;fct&gt; 2. Have not voted, 2. Have not voted, 2. Ha…
$ VotedPres2024           &lt;fct&gt; "1. Yes, voted for President", NA, "1. Yes,…
$ VotedPres2024_selection &lt;fct&gt; 2. Donald Trump, NA, 1. Kamala Harris, NA, …
$ AgeGroup                &lt;fct&gt; 50-59, 40-49, 40-49, 40-49, 70 or older, 70…
$ EducationGroup          &lt;fct&gt; Bachelor's, Post HS, Post HS, Post HS, Grad…
$ Income7                 &lt;fct&gt; "$125k or more", "$125k or more", "$100k to…</code></pre>
</div>
</div>
</section>
<section id="design-object" class="slide level2">
<h2>Design Object</h2>
<div>
<ul>
<li class="fragment">Backbone for survey analysis</li>
<li class="fragment">Specify the sampling design, weights, and other necessary information to account for errors in the data</li>
<li class="fragment">Survey analysis and inference should be performed with the survey design objects, not the original survey data</li>
<li class="fragment"><strong>We will be covering survey design in more detail later!</strong></li>
</ul>
</div>
</section>
<section id="american-national-election-studies-design-object" class="slide level2">
<h2>American National Election Studies Design Object</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="|1|2|3|4-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>anes_des <span class="ot">&lt;-</span> anes_2024 <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a></a>  <span class="fu">filter</span>(InterviewMode_Post <span class="sc">!=</span> <span class="st">"3. Paper (PAPI)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a></a>  <span class="fu">mutate</span>(<span class="at">Weight =</span> V240108b <span class="sc">/</span> <span class="fu">sum</span>(V240108b) <span class="sc">*</span> <span class="dv">232449541</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb8-5"><a></a>    <span class="at">weights =</span> Weight,</span>
<span id="cb8-6"><a></a>    <span class="at">strata =</span> V240108d,</span>
<span id="cb8-7"><a></a>    <span class="at">ids =</span> V240108c,</span>
<span id="cb8-8"><a></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb8-9"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="american-national-election-studies-design-object-1" class="slide level2">
<h2>American National Election Studies Design Object</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>anes_des</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Stratified 1 - level Cluster Sampling design (with replacement)
With (1934) clusters.
Called via srvyr
Sampling variables:
  - ids: V240108c 
  - strata: V240108d 
  - weights: Weight 
Data variables: 
  - CaseID (dbl), InterviewMode_Pre (fct), InterviewMode_Post (fct), Weight
    (dbl), Stratum (dbl), VarUnit (dbl), CampaignInterest (fct),
    VotedPres2020 (fct), VotedPres2020_selection (fct), PartyID (fct),
    TrustGovernment (fct), TrustPeople (fct), Age (dbl), Education (dbl),
    RaceEth (fct), Sex (fct), Income (fct), EarlyVote2024 (fct),
    VotedPres2024 (fct), VotedPres2024_selection (fct), AgeGroup (fct),
    EducationGroup (fct), Income7 (fct), V240001 (dbl), V240002a (hvn_lbll),
    V240002b (hvn_lbll), V240108b (dbl), V240108d (dbl), V240108c (dbl),
    V241005 (hvn_lbll), V241103 (hvn_lbll), V241104 (hvn_lbll), V241038
    (hvn_lbll), V241221 (hvn_lbll), V241222 (hvn_lbll), V241223 (hvn_lbll),
    V241227x (hvn_lbll), V241229 (hvn_lbll), V241234 (hvn_lbll), V241458x
    (hvn_lbll), V241463 (hvn_lbll), V241499 (hvn_lbll), V241501x (hvn_lbll),
    V241550 (hvn_lbll), V241566x (hvn_lbll), V242065 (hvn_lbll), V241035
    (hvn_lbll), V241037 (hvn_lbll), V242051 (hvn_lbll), V242095x (hvn_lbll),
    V242066 (hvn_lbll), V241039 (hvn_lbll), V242067 (hvn_lbll), V242096x
    (hvn_lbll)</code></pre>
</div>
</div>
</section></section>
<section>
<section id="comparison-of-dplyr-and-srvyr-functions" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Comparison of {dplyr} and {srvyr} Functions</h1>

</section>
<section id="why-use-srvyr-over-survey" class="slide level2">
<h2>Why use {srvyr} over {survey}?</h2>
<div>
<ul>
<li class="fragment">Use the pipe function <code>%&gt;%</code> or <code>|&gt;</code></li>
<li class="fragment">Ability to use tidy selection</li>
<li class="fragment">Functions follow <code>snake_case</code> convention</li>
</ul>
</div>
</section>
<section id="apply-dplyr-functions-to-survey-objects" class="slide level2">
<h2>Apply {dplyr} functions to survey objects</h2>
<ul>
<li>A few functions in {srvyr} have counterparts in {dplyr}
<ul>
<li><code>dplyr::summarize()</code> and <code>srvyr::summarize()</code></li>
<li><code>dplyr::group_by()</code> and <code>srvyr::group_by()</code></li>
</ul></li>
<li>Based on the object class, R will recognize which package to use</li>
</ul>
</section>
<section id="using-summarize-to-calculate-mean-and-median" class="slide level2">
<h2>Using <code>summarize()</code> to calculate mean and median</h2>
<h3 id="tibble">Tibble:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="|1|2,4|3|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>towny <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb11-3"><a></a>    <span class="at">area_mean =</span> <span class="fu">mean</span>(land_area_km2, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-4"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  area_mean
      &lt;dbl&gt;
1      373.</code></pre>
</div>
</div>
</section>
<section id="using-summarize-to-calculate-mean-and-median-1" class="slide level2">
<h2>Using <code>summarize()</code> to calculate mean and median</h2>
<h3 id="survey-object">Survey object:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb13-3"><a></a>    <span class="at">age_mean =</span> <span class="fu">survey_mean</span>(Age, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb13-4"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  age_mean age_mean_se
     &lt;dbl&gt;       &lt;dbl&gt;
1     48.5       0.445</code></pre>
</div>
</div>
</section>
<section id="using-dplyr-functions" class="slide level2">
<h2>Using {dplyr} functions</h2>
<h3 id="tibble-1">Tibble:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>towny <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a></a>  <span class="fu">filter</span>(csd_type <span class="sc">==</span> <span class="st">"township"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a></a>  <span class="fu">select</span>(csd_type, name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 195 × 2
   csd_type name                  
   &lt;chr&gt;    &lt;chr&gt;                 
 1 township Addington Highlands   
 2 township Adelaide Metcalfe     
 3 township Adjala-Tosorontio     
 4 township Admaston/Bromley      
 5 township Alberton              
 6 township Alfred and Plantagenet
 7 township Algonquin Highlands   
 8 township Alnwick/Haldimand     
 9 township Amaranth              
10 township The Archipelago       
# ℹ 185 more rows</code></pre>
</div>
</div>
</section>
<section id="using-dplyr-functions-1" class="slide level2">
<h2>Using {dplyr} functions</h2>
<h3 id="survey-object-1">Survey object:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a></a>  <span class="fu">filter</span>(EducationGroup <span class="sc">==</span> <span class="st">"Graduate"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a></a>  <span class="fu">select</span>(Sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Stratified 1 - level Cluster Sampling design (with replacement)
With (492) clusters.
Called via srvyr
Sampling variables:
  - ids: V240108c 
  - strata: V240108d 
  - weights: Weight 
Data variables: 
  - Sex (fct)</code></pre>
</div>
</div>
</section>
<section id="grouping" class="slide level2">
<h2>Grouping</h2>
<h3 id="tibble-2">Tibble:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>towny <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a></a>  <span class="fu">group_by</span>(csd_type) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a></a>  <span class="fu">summarize</span>(<span class="at">area_mean =</span> <span class="fu">mean</span>(land_area_km2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  csd_type     area_mean
  &lt;chr&gt;            &lt;dbl&gt;
1 city             498. 
2 municipality     607. 
3 town             183. 
4 township         363. 
5 village           23.0</code></pre>
</div>
</div>
</section>
<section id="grouping-1" class="slide level2">
<h2>Grouping</h2>
<h3 id="survey-object-2">Survey object:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a></a>  <span class="fu">group_by</span>(EducationGroup) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a></a>  <span class="fu">summarize</span>(<span class="at">age_mean =</span> <span class="fu">survey_mean</span>(Age, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  EducationGroup age_mean age_mean_se
  &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Less than HS       50.1       1.76 
2 High school        48.3       0.904
3 Post HS            48.2       0.709
4 Bachelor's         46.5       0.731
5 Graduate           51.8       0.797
6 &lt;NA&gt;               52.9       4.76 </code></pre>
</div>
</div>
</section>
<section id="using-srvyr-functions-on-non-survey-objects" class="slide level2">
<h2>Using {srvyr} functions on non-survey objects</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a>towny <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a></a>  <span class="fu">summarize</span>(<span class="at">area_mean =</span> <span class="fu">survey_mean</span>(land_area_km2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in `summarize()`:
ℹ In argument: `area_mean = survey_mean(land_area_km2)`.
Caused by error in `cur_svy()`:
! Survey context not set</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="survey-analysis-process" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Survey Analysis Process</h1>

</section>
<section id="overview-of-survey-analysis-using-srvyr-package" class="slide level2">
<h2>Overview of Survey Analysis using {srvyr} Package</h2>
<div>
<ol type="1">
<li class="fragment"><p>Create a <code>tbl_svy</code> object (a survey object) using: <code>as_survey_design()</code> or <code>as_survey_rep()</code></p></li>
<li class="fragment"><p>Subset data (if needed) using <code>filter()</code> (to create subpopulations)</p></li>
<li class="fragment"><p>Specify domains of analysis using <code>group_by()</code></p></li>
<li class="fragment"><p>Within <code>summarize()</code>, specify variables to calculate, including means, totals, proportions, quantiles, and more</p></li>
</ol>
</div>
</section></section>
<section>
<section id="descriptive-analysis" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Descriptive Analysis</h1>

</section>
<section id="introduction-1" class="slide level2">
<h2>Introduction</h2>
<p>Descriptive analyses lay the groundwork for the next steps of running statistical tests or developing models.</p>
<div class="fragment">
<p>Calculate point estimates of…</p>
<ul>
<li><em>Unknown population parameters</em>, such as mean.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><em>Uncertainty estimates</em>, such as confidence intervals.</li>
</ul>
</div>
</section>
<section id="types-of-data" class="slide level2">
<h2>Types of data</h2>
<ul>
<li><strong>Categorical/nominal data</strong>: variables with levels or descriptions that cannot be ordered, such as the region of the country (North, South, East, and West)</li>
</ul>
<div class="fragment semi-fade-out">
<ul>
<li><strong>Ordinal data</strong>: variables that can be ordered, such as those from a Likert scale (strongly disagree, disagree, agree, and strongly agree)</li>
<li><strong>Discrete data</strong>: variables that are counted or measured, such as number of children</li>
<li><strong>Continuous data</strong>: variables that are measured and whose values can lie anywhere on an interval, such as income</li>
</ul>
</div>
</section>
<section id="types-of-measures" class="slide level2">
<h2>Types of measures</h2>
<ul>
<li><strong>Measures of distribution</strong> describe how often an event or response occurs.
<ul>
<li>Count of observations with <code>survey_count()</code></li>
</ul></li>
<li><strong>Measures of central tendency</strong> find the central (or average) responses.
<ul>
<li>Proportions with <code>survey_prop()</code> and <code>survey_total()</code></li>
</ul></li>
</ul>
</section>
<section id="overview-of-survey-analysis-using-the-srvyr-package" class="slide level2">
<h2>Overview of survey analysis using the {srvyr} package</h2>
<div class="fragment semi-fade-out">
<ol type="1">
<li>Create a <code>tbl_svy</code> object (a survey object) using: <code>as_survey_design()</code> or <code>as_survey_rep()</code></li>
</ol>
</div>
<ol start="2" type="1">
<li><p>Subset data (if needed) using <code>filter()</code> (to create subpopulations)</p></li>
<li><p>Specify domains of analysis using <code>group_by()</code></p></li>
<li><p>Specify variables to calculate, including means, totals, proportions, quantiles, and more</p></li>
</ol>
</section></section>
<section>
<section id="counts-and-totals" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Counts and totals</h1>

</section>
<section id="survey_count" class="slide level2">
<h2><code>survey_count()</code></h2>
<div>
<ul>
<li class="fragment">Calculate the estimated observation counts for a given variable or combination of variables</li>
<li class="fragment">Applied to categorical data</li>
<li class="fragment">Sometimes called “cross-tabulations” or “cross-tabs”</li>
<li class="fragment"><code>survey_count()</code> functions similarly to <code>dplyr::count()</code> in that it is <b>NOT</b> called within <code>summarize()</code></li>
</ul>
</div>
</section>
<section id="survey_count-syntax" class="slide level2">
<h2><code>survey_count()</code>: syntax</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="|2|3|4|5|6|7|8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="fu">survey_count</span>(</span>
<span id="cb25-2"><a></a>  x,</span>
<span id="cb25-3"><a></a>  ...,</span>
<span id="cb25-4"><a></a>  <span class="at">wt =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-5"><a></a>  <span class="at">sort =</span> <span class="cn">FALSE</span>,</span>
<span id="cb25-6"><a></a>  <span class="at">name =</span> <span class="st">"n"</span>,</span>
<span id="cb25-7"><a></a>  <span class="at">.drop =</span> dplyr<span class="sc">::</span><span class="fu">group_by_drop_default</span>(x),</span>
<span id="cb25-8"><a></a>  <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">"se"</span>, <span class="st">"ci"</span>, <span class="st">"var"</span>, <span class="st">"cv"</span>)</span>
<span id="cb25-9"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="survey_count-example" class="slide level2">
<h2><code>survey_count</code>: example</h2>
<p>Estimate the number of U.S. adults (18+) living in the continental United States using ANES data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a></a>  <span class="fu">survey_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
           n     n_se
       &lt;dbl&gt;    &lt;dbl&gt;
1 232449541. 5069171.</code></pre>
</div>
</div>
</section>
<section id="survey_count-subgroup-example" class="slide level2">
<h2><code>survey_count</code>: subgroup example</h2>
<p>Calculate the weighted estimate of respondents by voting status in the 2024 election:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a></a>  <span class="fu">survey_count</span>(</span>
<span id="cb28-3"><a></a>    VotedPres2024, </span>
<span id="cb28-4"><a></a>    <span class="at">name =</span> <span class="st">"N"</span></span>
<span id="cb28-5"><a></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  VotedPres2024                             N     N_se
  &lt;fct&gt;                                 &lt;dbl&gt;    &lt;dbl&gt;
1 1. Yes, voted for President      170473497. 4000913.
2 2. No, didn't vote for President   1887456.  401215.
3 &lt;NA&gt;                              60088589. 3058218.</code></pre>
</div>
</div>
</section>
<section id="survey_total-syntax" class="slide level2">
<h2><code>survey_total()</code>: syntax</h2>
<ul>
<li>The <code>survey_total()</code> function is analogous to <code>sum()</code></li>
<li><code>survey_total()</code> must be used within <code>summarize()</code></li>
<li>If used with no x-variable, <code>survey_total()</code> calculates a population count estimate within <code>summarize()</code></li>
</ul>
</section>
<section id="survey_total-example" class="slide level2">
<h2><code>survey_total()</code>: example</h2>
<p>Estimate the number of U.S. adults (18+) living in the continental United States using ANES data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb30-3"><a></a>    <span class="fu">survey_total</span>()</span>
<span id="cb30-4"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
        coef    `_se`
       &lt;dbl&gt;    &lt;dbl&gt;
1 232449541. 5069171.</code></pre>
</div>
</div>
</section>
<section id="unweighted" class="slide level2">
<h2><code>unweighted()</code></h2>
<div>
<ul>
<li class="fragment">Sometimes, it is helpful to calculate an unweighted estimate of a given variable</li>
<li class="fragment"><code>unweighted()</code> does not extrapolate to a population estimate</li>
<li class="fragment">Used in conjunction with any {dplyr} functions</li>
</ul>
</div>
</section>
<section id="unweighted-example" class="slide level2">
<h2><code>unweighted()</code>: example</h2>
<p>Calculate the weighted and unweighted number of survey respondents:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="|2,5|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb32-3"><a></a>    <span class="at">n_unweighted =</span> <span class="fu">unweighted</span>(<span class="fu">n</span>()),</span>
<span id="cb32-4"><a></a>    <span class="at">n_weighted =</span> <span class="fu">survey_total</span>()</span>
<span id="cb32-5"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  n_unweighted n_weighted n_weighted_se
         &lt;int&gt;      &lt;dbl&gt;         &lt;dbl&gt;
1         4764 232449541.      5069171.</code></pre>
</div>
</div>
</section></section>
<section>
<section id="proportions" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Proportions</h1>

</section>
<section id="survey_prop" class="slide level2">
<h2><code>survey_prop()</code></h2>
<div>
<ul>
<li class="fragment">Calculate the estimated observation counts for a given variable or combination of variables</li>
<li class="fragment"><code>survey_prop()</code> to categorical data</li>
<li class="fragment">Must be called within <code>summarize()</code></li>
</ul>
</div>
</section>
<section id="survey_prop-syntax" class="slide level2">
<h2><code>survey_prop()</code>: syntax</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" data-code-line-numbers="|1,2|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">survey_prop</span>(</span>
<span id="cb34-2"><a></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb34-3"><a></a>  <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">"se"</span>, <span class="st">"ci"</span>, <span class="st">"var"</span>, <span class="st">"cv"</span>),</span>
<span id="cb34-4"><a></a>  <span class="at">level =</span> <span class="fl">0.95</span>,</span>
<span id="cb34-5"><a></a>  <span class="at">proportion =</span> <span class="cn">TRUE</span>,</span>
<span id="cb34-6"><a></a>  <span class="at">prop_method =</span></span>
<span id="cb34-7"><a></a>    <span class="fu">c</span>(<span class="st">"logit"</span>, <span class="st">"likelihood"</span>, <span class="st">"asin"</span>, <span class="st">"beta"</span>, <span class="st">"mean"</span>, <span class="st">"xlogit"</span>),</span>
<span id="cb34-8"><a></a>  <span class="at">deff =</span> <span class="cn">FALSE</span>,</span>
<span id="cb34-9"><a></a>  <span class="at">df =</span> <span class="cn">NULL</span></span>
<span id="cb34-10"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="survey_prop-one-variable-proportion-example" class="slide level2">
<h2><code>survey_prop()</code>: one variable proportion example</h2>
<p>Calculate the proportion of respondents by voting status in the 2024 election:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a></a>  <span class="fu">group_by</span>(VotedPres2024) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  VotedPres2024                          p    p_se
  &lt;fct&gt;                              &lt;dbl&gt;   &lt;dbl&gt;
1 1. Yes, voted for President      0.733   0.0108 
2 2. No, didn't vote for President 0.00812 0.00173
3 &lt;NA&gt;                             0.259   0.0106 </code></pre>
</div>
</div>
</section>
<section id="survey_prop-conditional-proportions-example" class="slide level2 smaller">
<h2><code>survey_prop()</code>: conditional proportions example</h2>
<p>Calculate the proportion of whether someone voted by campaign interest:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a></a>  <span class="fu">group_by</span>(VotedPres2024, CampaignInterest) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
# Groups:   VotedPres2024 [3]
   VotedPres2024                    CampaignInterest              p    p_se
   &lt;fct&gt;                            &lt;fct&gt;                     &lt;dbl&gt;   &lt;dbl&gt;
 1 1. Yes, voted for President      1. Very much interested 0.537   0.0114 
 2 1. Yes, voted for President      2. Somewhat interested  0.372   0.0115 
 3 1. Yes, voted for President      3. Not much interested  0.0914  0.00653
 4 2. No, didn't vote for President 1. Very much interested 0.191   0.0770 
 5 2. No, didn't vote for President 2. Somewhat interested  0.359   0.0981 
 6 2. No, didn't vote for President 3. Not much interested  0.451   0.108  
 7 &lt;NA&gt;                             1. Very much interested 0.228   0.0187 
 8 &lt;NA&gt;                             2. Somewhat interested  0.452   0.0211 
 9 &lt;NA&gt;                             3. Not much interested  0.319   0.0196 
10 &lt;NA&gt;                             &lt;NA&gt;                    0.00140 0.00140</code></pre>
</div>
</div>
</section>
<section id="survey_prop-joint-proportions-example" class="slide level2 smaller">
<h2><code>survey_prop()</code>: joint proportions example</h2>
<p>Calculate the joint proportions for each variable combination using <code>interact()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a></a>  <span class="fu">group_by</span>(<span class="fu">interact</span>(VotedPres2024, CampaignInterest)) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_prop</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   VotedPres2024                    CampaignInterest               p     p_se
   &lt;fct&gt;                            &lt;fct&gt;                      &lt;dbl&gt;    &lt;dbl&gt;
 1 1. Yes, voted for President      1. Very much interested 0.394    0.00999 
 2 1. Yes, voted for President      2. Somewhat interested  0.272    0.00974 
 3 1. Yes, voted for President      3. Not much interested  0.0671   0.00474 
 4 2. No, didn't vote for President 1. Very much interested 0.00155  0.000681
 5 2. No, didn't vote for President 2. Somewhat interested  0.00291  0.000959
 6 2. No, didn't vote for President 3. Not much interested  0.00366  0.00126 
 7 &lt;NA&gt;                             1. Very much interested 0.0589   0.00512 
 8 &lt;NA&gt;                             2. Somewhat interested  0.117    0.00747 
 9 &lt;NA&gt;                             3. Not much interested  0.0824   0.00626 
10 &lt;NA&gt;                             &lt;NA&gt;                    0.000361 0.000361</code></pre>
</div>
</div>
</section></section>
<section>
<section id="helper-functions-for-survey-analysis" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Helper functions for survey analysis</h1>

</section>
<section id="filter" class="slide level2">
<h2><code>filter()</code></h2>
<div>
<ul>
<li class="fragment">Allows for subpopulation analysis</li>
<li class="fragment">Use <code>filter()</code> to subset a survey object for analysis</li>
<li class="fragment">Must be done after creating the survey design object</li>
</ul>
</div>
</section>
<section id="filter-example" class="slide level2">
<h2><code>filter()</code>: example</h2>
<p>Estimate the proportion of 2024 voters among respondents who voted in 2020:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a></a>  <span class="fu">filter</span>(VotedPres2020 <span class="sc">==</span> <span class="st">"1. Yes, voted"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a></a>  <span class="fu">group_by</span>(VotedPres2024) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb41-5"><a></a>    <span class="fu">survey_prop</span>()</span>
<span id="cb41-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  VotedPres2024                       coef   `_se`
  &lt;fct&gt;                              &lt;dbl&gt;   &lt;dbl&gt;
1 1. Yes, voted for President      0.860   0.0102 
2 2. No, didn't vote for President 0.00781 0.00189
3 &lt;NA&gt;                             0.133   0.0101 </code></pre>
</div>
</div>
</section>
<section id="cascade" class="slide level2">
<h2><code>cascade()</code></h2>
<div>
<ul>
<li class="fragment">The {srvyr} package has the convenient <code>cascade()</code> function</li>
<li class="fragment">Used instead of <code>summarize()</code></li>
<li class="fragment">Creates a summary row for the estimate representing the entire population</li>
</ul>
</div>
</section>
<section id="cascade-syntax" class="slide level2">
<h2><code>cascade()</code>: syntax</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="fu">cascade</span>(</span>
<span id="cb43-2"><a></a>  .data, </span>
<span id="cb43-3"><a></a>  ..., </span>
<span id="cb43-4"><a></a>  <span class="at">.fill =</span> <span class="cn">NA</span>, </span>
<span id="cb43-5"><a></a>  <span class="at">.fill_level_top =</span> <span class="cn">FALSE</span>, </span>
<span id="cb43-6"><a></a>  <span class="at">.groupings =</span> <span class="cn">NULL</span></span>
<span id="cb43-7"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="cascade-example" class="slide level2">
<h2><code>cascade()</code>: example</h2>
<p>Estimate the share of respondents who did and did not vote in the 2024 election, then demonstrate the features of <code>cascade()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a></a>  <span class="fu">group_by</span>(VotedPres2024) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a></a>  <span class="fu">cascade</span>(<span class="at">prop =</span> <span class="fu">survey_prop</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  VotedPres2024                       prop  prop_se
  &lt;fct&gt;                              &lt;dbl&gt;    &lt;dbl&gt;
1 1. Yes, voted for President      0.733   1.08e- 2
2 2. No, didn't vote for President 0.00812 1.73e- 3
3 &lt;NA&gt;                             0.259   1.06e- 2
4 &lt;NA&gt;                             1.000   9.68e-18</code></pre>
</div>
</div>
</section>
<section id="cascade-example-1" class="slide level2">
<h2><code>cascade()</code>: example</h2>
<p>Give the summary row a better name with <code>.fill</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a></a>  <span class="fu">group_by</span>(VotedPres2024) <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a></a>  <span class="fu">cascade</span>(<span class="at">prop =</span> <span class="fu">survey_prop</span>(),</span>
<span id="cb46-4"><a></a>          <span class="at">.fill =</span> <span class="st">"All"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cascade-example-2" class="slide level2">
<h2><code>cascade()</code>: example</h2>
<p>Move the summary row to the top with <code>.fill_level_top = TRUE</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47" data-code-line-numbers="|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a></a>  <span class="fu">group_by</span>(VotedPres2024) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a></a>  <span class="fu">cascade</span>(<span class="at">prop =</span> <span class="fu">survey_prop</span>(),</span>
<span id="cb47-4"><a></a>          <span class="at">.fill =</span> <span class="st">"All"</span>,</span>
<span id="cb47-5"><a></a>          <span class="at">.fill_level_top =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  VotedPres2024                       prop  prop_se
  &lt;fct&gt;                              &lt;dbl&gt;    &lt;dbl&gt;
1 All                              1.000   9.68e-18
2 1. Yes, voted for President      0.733   1.08e- 2
3 2. No, didn't vote for President 0.00812 1.73e- 3
4 &lt;NA&gt;                             0.259   1.06e- 2</code></pre>
</div>
</div>
</section></section>
<section id="your-turn-1" class="title-slide slide level1 center" data-background-image="images/header.png">
<h1>Your Turn</h1>
<ul>
<li>Go to bit.ly/MAPOR-2025-short-course</li>
<li>Open <code>03-descriptive-exercises.qmd</code></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_3c0b1aad" data-warn-when="180" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">08</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<div class="footer">
<p>bit.ly/MAPOR-2025-short-course</p>
</div>
</section>

<section>
<section id="chi-square-tests" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Chi-square tests</h1>

</section>
<section id="chi-square-tests-1" class="slide level2">
<h2>Chi-square tests</h2>
<ul>
<li>Compare multiple proportions to see if they are statistically different from each other</li>
</ul>
<div>
<ul>
<li class="fragment">Different types:
<ul>
<li class="fragment">Goodness-of-fit tests compare observed data to expected data</li>
<li class="fragment">Tests of independence compare two types of observed data to see if there is a relationship</li>
<li class="fragment">Tests of homogeneity compare two distributions to see if they match</li>
</ul></li>
</ul>
</div>
</section>
<section id="chi-square-syntax" class="slide level2">
<h2>Chi-square syntax</h2>
<p>There are two functions that we use to compare proportions:</p>
<ul>
<li><code>svygofchisq()</code>: For goodness-of-fit tests</li>
<li><code>svychisq()</code>: For tests of independence and homogeneity</li>
</ul>
</section>
<section id="syntax-for-goodness-of-fit-tests" class="slide level2">
<h2>Syntax for goodness-of-fit tests</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="|2|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a><span class="fu">svygofchisq</span>(</span>
<span id="cb49-2"><a></a>  formula,</span>
<span id="cb49-3"><a></a>  p,</span>
<span id="cb49-4"><a></a>  design,</span>
<span id="cb49-5"><a></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb49-6"><a></a>  ...</span>
<span id="cb49-7"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="syntax-for-tests-of-independence-and-homogeneity" class="slide level2">
<h2>Syntax for tests of independence and homogeneity</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50" data-code-line-numbers="|2|3|4-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a><span class="fu">svychisq</span>(</span>
<span id="cb50-2"><a></a>  formula,</span>
<span id="cb50-3"><a></a>  design,</span>
<span id="cb50-4"><a></a>  <span class="at">statistic =</span> <span class="fu">c</span>(</span>
<span id="cb50-5"><a></a>    <span class="st">"F"</span>, <span class="st">"Chisq"</span>, <span class="st">"Wald"</span>, <span class="st">"adjWald"</span>,</span>
<span id="cb50-6"><a></a>    <span class="st">"lincom"</span>, <span class="st">"saddlepoint"</span></span>
<span id="cb50-7"><a></a>  ),</span>
<span id="cb50-8"><a></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-9"><a></a>  ...</span>
<span id="cb50-10"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="example-goodness-of-fit-test" class="title-slide slide level1 center" data-background-color="#0b3954">
<h1>Example <br>goodness-of-fit test</h1>

</section>
<section id="example-goodness-of-fit-test-1" class="slide level2">
<h2>Example: goodness-of-fit test</h2>
<ul>
<li>Let’s check to see if the education levels from the ANES match the levels from the ACS</li>
<li>Here is the education breakdown from the ACS in 2024
<ul>
<li>10% had less than a high school degree</li>
<li>27% had a high school degree</li>
<li>29% had some college or an associate’s degree</li>
<li>34% had a bachelor’s degree or higher</li>
</ul></li>
</ul>
</section>
<section id="example-goodness-of-fit-test-2" class="slide level2">
<h2>Example: goodness-of-fit test</h2>
<ul>
<li>Let’s check to see if the education levels from the ANES match the levels from the ACS</li>
<li>Here is the education breakdown from our survey data</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a></a>  <span class="fu">drop_na</span>(EducationGroup) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a></a>  <span class="fu">group_by</span>(EducationGroup) <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  EducationGroup      p    p_se
  &lt;fct&gt;           &lt;dbl&gt;   &lt;dbl&gt;
1 Less than HS   0.0824 0.00673
2 High school    0.270  0.00948
3 Post HS        0.302  0.00923
4 Bachelor's     0.213  0.00816
5 Graduate       0.132  0.00633</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Use <code>drop_na()</code> to first remove any missing data from the <code>Education</code> variable</li>
<li>Use <code>group_by()</code> and <code>summarize()</code> to get the proportions by <code>Education</code> level</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="example-goodness-of-fit-test-3" class="slide level2">
<h2>Example: goodness-of-fit test</h2>
<p>Let’s collapse Bachelor’s and Graduate degrees into a single category for comparison.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="|1|3-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a>anes_des_educ <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-3"><a></a>    <span class="at">Education2 =</span></span>
<span id="cb53-4"><a></a>      <span class="fu">fct_collapse</span>(EducationGroup,</span>
<span id="cb53-5"><a></a>        <span class="st">"Bachelor or Higher"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Bachelor's"</span>, <span class="st">"Graduate"</span>)</span>
<span id="cb53-6"><a></a>      )</span>
<span id="cb53-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-goodness-of-fit-test-4" class="slide level2">
<h2>Example: goodness-of-fit test</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a></a>  <span class="fu">drop_na</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a></a>  <span class="fu">group_by</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb54-4"><a></a>  <span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">survey_mean</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  Education2              p    p_se
  &lt;fct&gt;               &lt;dbl&gt;   &lt;dbl&gt;
1 Less than HS       0.0824 0.00673
2 High school        0.270  0.00948
3 Post HS            0.302  0.00923
4 Bachelor or Higher 0.346  0.00914</code></pre>
</div>
</div>
</section>
<section id="example-goodness-of-fit-test-5" class="slide level2">
<h2>Example: goodness-of-fit test</h2>
<p>Test to see if the ANES education matches the population percentages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="|1|2|3|4|5|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a></a>  <span class="fu">svygofchisq</span>(</span>
<span id="cb56-3"><a></a>    <span class="sc">~</span>Education2,</span>
<span id="cb56-4"><a></a>    <span class="at">p =</span> <span class="fu">c</span>(<span class="fl">0.10</span>, <span class="fl">0.27</span>, <span class="fl">0.29</span>, <span class="fl">0.34</span>),</span>
<span id="cb56-5"><a></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb56-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-error">
<pre><code>Error in UseMethod("svytotal", design): no applicable method for 'svytotal' applied to an object of class "formula"</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>as <code>design</code> argument is the second argument, dot notation is needed</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="dot-notation" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Dot notation</h1>

</section>
<section id="dot-notation-1" class="slide level2">
<h2>Dot notation</h2>
<p>Let’s walk through an example using the <code>towny</code> data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a>towny</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 414 × 25
   name   website status csd_type census_div latitude longitude land_area_km2
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 Addin… https:… lower… township Lennox an…     45       -77.2        1294. 
 2 Adela… https:… lower… township Middlesex      43.0     -81.7         331. 
 3 Adjal… https:… lower… township Simcoe         44.1     -79.9         372. 
 4 Admas… https:… lower… township Renfrew        45.5     -76.9         520. 
 5 Ajax   https:… lower… town     Durham         43.9     -79.0          66.6
 6 Alber… https:… singl… township Rainy Riv…     48.6     -93.5         117. 
 7 Alfre… https:… lower… township Prescott …     45.6     -74.9         392. 
 8 Algon… https:… lower… township Haliburton     45.4     -78.8        1000. 
 9 Alnwi… https:… lower… township Northumbe…     44.1     -78.0         398. 
10 Amara… https:… lower… township Dufferin       44.0     -80.2         265. 
# ℹ 404 more rows
# ℹ 17 more variables: population_1996 &lt;int&gt;, population_2001 &lt;int&gt;,
#   population_2006 &lt;int&gt;, population_2011 &lt;int&gt;, population_2016 &lt;int&gt;,
#   population_2021 &lt;int&gt;, density_1996 &lt;dbl&gt;, density_2001 &lt;dbl&gt;,
#   density_2006 &lt;dbl&gt;, density_2011 &lt;dbl&gt;, density_2016 &lt;dbl&gt;,
#   density_2021 &lt;dbl&gt;, pop_change_1996_2001_pct &lt;dbl&gt;,
#   pop_change_2001_2006_pct &lt;dbl&gt;, pop_change_2006_2011_pct &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="dot-notation-2" class="slide level2">
<h2>Dot notation</h2>
<p>Using the <code>towny</code> data, let’s filter to only cities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a><span class="fu">filter</span>(towny, csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 25
   name   website status csd_type census_div latitude longitude land_area_km2
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 Barrie https:… singl… city     Simcoe         44.4     -79.7          99.0
 2 Belle… https:… singl… city     Hastings       44.2     -77.4         247. 
 3 Bramp… https:… lower… city     Peel           43.7     -79.8         266. 
 4 Brant  https:… singl… city     Brant          43.1     -80.4         818. 
 5 Brant… https:… singl… city     Brant          43.1     -80.3          98.6
 6 Brock… https:… singl… city     Leeds and…     44.6     -75.7          20.9
 7 Burli… https:… lower… city     Halton         43.4     -79.8         186. 
 8 Cambr… https:… lower… city     Waterloo       43.4     -80.3         113. 
 9 Clare… https:… lower… city     Prescott …     45.5     -75.2         297. 
10 Cornw… https:… singl… city     Stormont,…     45.0     -74.7          61.5
# ℹ 42 more rows
# ℹ 17 more variables: population_1996 &lt;int&gt;, population_2001 &lt;int&gt;,
#   population_2006 &lt;int&gt;, population_2011 &lt;int&gt;, population_2016 &lt;int&gt;,
#   population_2021 &lt;int&gt;, density_1996 &lt;dbl&gt;, density_2001 &lt;dbl&gt;,
#   density_2006 &lt;dbl&gt;, density_2011 &lt;dbl&gt;, density_2016 &lt;dbl&gt;,
#   density_2021 &lt;dbl&gt;, pop_change_1996_2001_pct &lt;dbl&gt;,
#   pop_change_2001_2006_pct &lt;dbl&gt;, pop_change_2006_2011_pct &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="dot-notation-3" class="slide level2">
<h2>Dot notation</h2>
<p>Using the <code>towny</code> data, let’s filter to only cities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a><span class="fu">filter</span>(towny, csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb62-2"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 25
   name   website status csd_type census_div latitude longitude land_area_km2
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 Barrie https:… singl… city     Simcoe         44.4     -79.7          99.0
 2 Belle… https:… singl… city     Hastings       44.2     -77.4         247. 
 3 Bramp… https:… lower… city     Peel           43.7     -79.8         266. 
 4 Brant  https:… singl… city     Brant          43.1     -80.4         818. 
 5 Brant… https:… singl… city     Brant          43.1     -80.3          98.6
 6 Brock… https:… singl… city     Leeds and…     44.6     -75.7          20.9
 7 Burli… https:… lower… city     Halton         43.4     -79.8         186. 
 8 Cambr… https:… lower… city     Waterloo       43.4     -80.3         113. 
 9 Clare… https:… lower… city     Prescott …     45.5     -75.2         297. 
10 Cornw… https:… singl… city     Stormont,…     45.0     -74.7          61.5
# ℹ 42 more rows
# ℹ 17 more variables: population_1996 &lt;int&gt;, population_2001 &lt;int&gt;,
#   population_2006 &lt;int&gt;, population_2011 &lt;int&gt;, population_2016 &lt;int&gt;,
#   population_2021 &lt;int&gt;, density_1996 &lt;dbl&gt;, density_2001 &lt;dbl&gt;,
#   density_2006 &lt;dbl&gt;, density_2011 &lt;dbl&gt;, density_2016 &lt;dbl&gt;,
#   density_2021 &lt;dbl&gt;, pop_change_1996_2001_pct &lt;dbl&gt;,
#   pop_change_2001_2006_pct &lt;dbl&gt;, pop_change_2006_2011_pct &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="dot-notation-4" class="slide level2">
<h2>Dot notation</h2>
<p>Using the <code>towny</code> data, let’s filter to only cities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a><span class="fu">filter</span>(towny, csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb64-2"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb64-3"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(., csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 25
   name   website status csd_type census_div latitude longitude land_area_km2
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 Barrie https:… singl… city     Simcoe         44.4     -79.7          99.0
 2 Belle… https:… singl… city     Hastings       44.2     -77.4         247. 
 3 Bramp… https:… lower… city     Peel           43.7     -79.8         266. 
 4 Brant  https:… singl… city     Brant          43.1     -80.4         818. 
 5 Brant… https:… singl… city     Brant          43.1     -80.3          98.6
 6 Brock… https:… singl… city     Leeds and…     44.6     -75.7          20.9
 7 Burli… https:… lower… city     Halton         43.4     -79.8         186. 
 8 Cambr… https:… lower… city     Waterloo       43.4     -80.3         113. 
 9 Clare… https:… lower… city     Prescott …     45.5     -75.2         297. 
10 Cornw… https:… singl… city     Stormont,…     45.0     -74.7          61.5
# ℹ 42 more rows
# ℹ 17 more variables: population_1996 &lt;int&gt;, population_2001 &lt;int&gt;,
#   population_2006 &lt;int&gt;, population_2011 &lt;int&gt;, population_2016 &lt;int&gt;,
#   population_2021 &lt;int&gt;, density_1996 &lt;dbl&gt;, density_2001 &lt;dbl&gt;,
#   density_2006 &lt;dbl&gt;, density_2011 &lt;dbl&gt;, density_2016 &lt;dbl&gt;,
#   density_2021 &lt;dbl&gt;, pop_change_1996_2001_pct &lt;dbl&gt;,
#   pop_change_2001_2006_pct &lt;dbl&gt;, pop_change_2006_2011_pct &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="dot-notation-5" class="slide level2">
<h2>Dot notation</h2>
<p>Using the <code>towny</code> data, let’s filter to only cities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a><span class="fu">filter</span>(towny, csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb66-2"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb66-3"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(., csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span>
<span id="cb66-4"><a></a>towny <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="at">.data =</span> ., csd_type <span class="sc">==</span> <span class="st">"city"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 25
   name   website status csd_type census_div latitude longitude land_area_km2
   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1 Barrie https:… singl… city     Simcoe         44.4     -79.7          99.0
 2 Belle… https:… singl… city     Hastings       44.2     -77.4         247. 
 3 Bramp… https:… lower… city     Peel           43.7     -79.8         266. 
 4 Brant  https:… singl… city     Brant          43.1     -80.4         818. 
 5 Brant… https:… singl… city     Brant          43.1     -80.3          98.6
 6 Brock… https:… singl… city     Leeds and…     44.6     -75.7          20.9
 7 Burli… https:… lower… city     Halton         43.4     -79.8         186. 
 8 Cambr… https:… lower… city     Waterloo       43.4     -80.3         113. 
 9 Clare… https:… lower… city     Prescott …     45.5     -75.2         297. 
10 Cornw… https:… singl… city     Stormont,…     45.0     -74.7          61.5
# ℹ 42 more rows
# ℹ 17 more variables: population_1996 &lt;int&gt;, population_2001 &lt;int&gt;,
#   population_2006 &lt;int&gt;, population_2011 &lt;int&gt;, population_2016 &lt;int&gt;,
#   population_2021 &lt;int&gt;, density_1996 &lt;dbl&gt;, density_2001 &lt;dbl&gt;,
#   density_2006 &lt;dbl&gt;, density_2011 &lt;dbl&gt;, density_2016 &lt;dbl&gt;,
#   density_2021 &lt;dbl&gt;, pop_change_1996_2001_pct &lt;dbl&gt;,
#   pop_change_2001_2006_pct &lt;dbl&gt;, pop_change_2006_2011_pct &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="results-goodness-of-fit-test" class="slide level2">
<h2>Results: goodness-of-fit test</h2>
<p>Test to see if the ANES education matches the population percentages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a>anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a></a>  <span class="fu">svygofchisq</span>(</span>
<span id="cb68-3"><a></a>    <span class="at">formula =</span> <span class="sc">~</span>Education2,</span>
<span id="cb68-4"><a></a>    <span class="at">p =</span> <span class="fu">c</span>(<span class="fl">0.10</span>, <span class="fl">0.27</span>, <span class="fl">0.29</span>, <span class="fl">0.34</span>),</span>
<span id="cb68-5"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb68-6"><a></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb68-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>
    Design-based chi-squared test for given probabilities

data:  ~Education2
X-squared = 848588, scale = 1.7316e+05, df = 2.1514e+00, p-value =
0.0983</code></pre>
</div>
</div>
</section>
<section id="results-goodness-of-fit-test-1" class="slide level2">
<h2>Results: goodness-of-fit test</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a></a>anes_des_educ <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a></a>  <span class="fu">drop_na</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a></a>  <span class="fu">group_by</span>(Education2) <span class="sc">%&gt;%</span></span>
<span id="cb70-4"><a></a>  <span class="fu">summarize</span>(<span class="at">Observed =</span> <span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="st">"ci"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb70-5"><a></a>  <span class="fu">rename</span>(<span class="at">Education =</span> Education2) <span class="sc">%&gt;%</span></span>
<span id="cb70-6"><a></a>  <span class="fu">mutate</span>(<span class="at">Expected =</span> <span class="fu">c</span>(<span class="fl">0.10</span>, <span class="fl">0.27</span>, <span class="fl">0.29</span>, <span class="fl">0.34</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb70-7"><a></a>  <span class="fu">select</span>(Education, Expected, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb70-8"><a></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb70-9"><a></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"Expected"</span>, <span class="st">"Observed"</span>),</span>
<span id="cb70-10"><a></a>    <span class="at">names_to =</span> <span class="st">"Names"</span>,</span>
<span id="cb70-11"><a></a>    <span class="at">values_to =</span> <span class="st">"Proportion"</span></span>
<span id="cb70-12"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb70-13"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb70-14"><a></a>    <span class="at">Observed_low =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">"Observed"</span>, Observed_low, <span class="cn">NA_real_</span>),</span>
<span id="cb70-15"><a></a>    <span class="at">Observed_upp =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">"Observed"</span>, Observed_upp, <span class="cn">NA_real_</span>),</span>
<span id="cb70-16"><a></a>    <span class="at">Names =</span> <span class="fu">if_else</span>(Names <span class="sc">==</span> <span class="st">"Observed"</span>,</span>
<span id="cb70-17"><a></a>      <span class="st">"ANES (observed)"</span>, <span class="st">"ACS (expected)"</span></span>
<span id="cb70-18"><a></a>    )</span>
<span id="cb70-19"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb70-20"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Education, <span class="at">y =</span> Proportion, <span class="at">color =</span> Names)) <span class="sc">+</span></span>
<span id="cb70-21"><a></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.75</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb70-22"><a></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Observed_low, <span class="at">ymax =</span> Observed_upp),</span>
<span id="cb70-23"><a></a>    <span class="at">width =</span> <span class="fl">0.25</span></span>
<span id="cb70-24"><a></a>  ) <span class="sc">+</span></span>
<span id="cb70-25"><a></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb70-26"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Type"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#ff8484"</span>, <span class="st">"#0b3954"</span>)) <span class="sc">+</span></span>
<span id="cb70-27"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="full-slide-deck_files/figure-revealjs/chisq-gof-graph-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="example-test-of-independence" class="title-slide slide level1 center" data-background-color="#0b3954">
<h1>Example <br> test of independence</h1>

</section>
<section id="example-test-of-independence-1" class="slide level2">
<h2>Example: test of independence</h2>
<p>ANES asked respondents two questions about trust:</p>
<ul>
<li>Question text: “How often can you trust the federal government to do what is right?”</li>
<li>Question text: “How often can you trust other people?”</li>
</ul>
<p>Run a test of independence to see if there is a relationship between these two questions.</p>
</section>
<section id="example-test-of-independence-2" class="slide level2">
<h2>Example: test of independence</h2>
<p>Run a test of independence to see if there is a relationship between these two questions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71" data-code-line-numbers="|1|2|3|4|5|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a></a>  <span class="fu">svychisq</span>(</span>
<span id="cb71-3"><a></a>    <span class="at">formula =</span> <span class="sc">~</span> TrustGovernment <span class="sc">+</span> TrustPeople,</span>
<span id="cb71-4"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb71-5"><a></a>    <span class="at">statistic =</span> <span class="st">"Wald"</span>,</span>
<span id="cb71-6"><a></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb71-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>
    Design-based Wald test of association

data:  NextMethod()
F = 13.611, ndf = 16, ddf = 1803, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Null Hypothesis: Independent (no relationship)</li>
<li>Alt Hypothesis: Not Independent (relationship)</li>
</ul>
<p>p-value &gt; 0.05, so there is a relationship between these two variables</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="example-test-of-independence-3" class="slide level2">
<h2>Example: test of independence</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a>anes_des <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a></a>  <span class="fu">drop_na</span>(TrustPeople, TrustGovernment) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a></a>  <span class="fu">group_by</span>(TrustPeople, TrustGovernment) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb73-5"><a></a>    <span class="at">Observed =</span> <span class="fu">round</span>(<span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="st">"ci"</span>), <span class="dv">3</span>),</span>
<span id="cb73-6"><a></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb73-7"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-8"><a></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">paste0</span>(</span>
<span id="cb73-9"><a></a>    Observed, <span class="st">" ("</span>, Observed_low, <span class="st">", "</span>,</span>
<span id="cb73-10"><a></a>    Observed_upp, <span class="st">")"</span></span>
<span id="cb73-11"><a></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb73-12"><a></a>  <span class="fu">select</span>(TrustGovernment, TrustPeople, prop) <span class="sc">%&gt;%</span></span>
<span id="cb73-13"><a></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> TrustPeople, <span class="at">values_from =</span> prop) <span class="sc">%&gt;%</span></span>
<span id="cb73-14"><a></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"TrustGovernment"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-15"><a></a>  <span class="fu">tab_stubhead</span>(<span class="at">label =</span> <span class="st">"Trust in Government"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-16"><a></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb73-17"><a></a>    <span class="at">label =</span> <span class="st">"Trust in People"</span>,</span>
<span id="cb73-18"><a></a>    <span class="at">columns =</span> <span class="fu">everything</span>()</span>
<span id="cb73-19"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb73-20"><a></a>  <span class="fu">tab_options</span>(<span class="at">page.orientation =</span> <span class="st">"landscape"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="gcwyhecodj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gcwyhecodj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gcwyhecodj thead, #gcwyhecodj tbody, #gcwyhecodj tfoot, #gcwyhecodj tr, #gcwyhecodj td, #gcwyhecodj th {
  border-style: none;
}

#gcwyhecodj p {
  margin: 0;
  padding: 0;
}

#gcwyhecodj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gcwyhecodj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gcwyhecodj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gcwyhecodj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gcwyhecodj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcwyhecodj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcwyhecodj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcwyhecodj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gcwyhecodj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gcwyhecodj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gcwyhecodj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gcwyhecodj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gcwyhecodj .gt_spanner_row {
  border-bottom-style: hidden;
}

#gcwyhecodj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gcwyhecodj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gcwyhecodj .gt_from_md > :first-child {
  margin-top: 0;
}

#gcwyhecodj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gcwyhecodj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gcwyhecodj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gcwyhecodj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gcwyhecodj .gt_row_group_first td {
  border-top-width: 2px;
}

#gcwyhecodj .gt_row_group_first th {
  border-top-width: 2px;
}

#gcwyhecodj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcwyhecodj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gcwyhecodj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gcwyhecodj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcwyhecodj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcwyhecodj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gcwyhecodj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gcwyhecodj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gcwyhecodj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcwyhecodj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcwyhecodj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcwyhecodj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcwyhecodj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcwyhecodj .gt_left {
  text-align: left;
}

#gcwyhecodj .gt_center {
  text-align: center;
}

#gcwyhecodj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gcwyhecodj .gt_font_normal {
  font-weight: normal;
}

#gcwyhecodj .gt_font_bold {
  font-weight: bold;
}

#gcwyhecodj .gt_font_italic {
  font-style: italic;
}

#gcwyhecodj .gt_super {
  font-size: 65%;
}

#gcwyhecodj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gcwyhecodj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gcwyhecodj .gt_indent_1 {
  text-indent: 5px;
}

#gcwyhecodj .gt_indent_2 {
  text-indent: 10px;
}

#gcwyhecodj .gt_indent_3 {
  text-indent: 15px;
}

#gcwyhecodj .gt_indent_4 {
  text-indent: 20px;
}

#gcwyhecodj .gt_indent_5 {
  text-indent: 25px;
}

#gcwyhecodj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gcwyhecodj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" style="width:100%;" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="gt_col_headings gt_spanner_row header">
<th rowspan="2" id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Trust in Government</th>
<th colspan="5" id="Trust in People" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" scope="colgroup"><div class="gt_column_spanner">
Trust in People
</div></th>
</tr>
<tr class="gt_col_headings even">
<th id="a1.-Always" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">1. Always</th>
<th id="a2.-Most-of-the-time" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">2. Most of the time</th>
<th id="a3.-About-half-the-time" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">3. About half the time</th>
<th id="a4.-Some-of-the-time" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">4. Some of the time</th>
<th id="a5.-Never" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">5. Never</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">1. Always</td>
<td class="gt_row gt_right" headers="stub_1_1 1. Always">0.182 (0.011, 0.352)</td>
<td class="gt_row gt_right" headers="stub_1_1 2. Most of the time">0.011 (0.003, 0.018)</td>
<td class="gt_row gt_right" headers="stub_1_1 3. About half the time">0.009 (0.001, 0.018)</td>
<td class="gt_row gt_right" headers="stub_1_1 4. Some of the time">0.009 (0.003, 0.014)</td>
<td class="gt_row gt_right" headers="stub_1_1 5. Never">0.034 (-0.001, 0.07)</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">2. Most of the time</td>
<td class="gt_row gt_right" headers="stub_1_2 1. Always">0.219 (0.11, 0.328)</td>
<td class="gt_row gt_right" headers="stub_1_2 2. Most of the time">0.177 (0.157, 0.198)</td>
<td class="gt_row gt_right" headers="stub_1_2 3. About half the time">0.09 (0.069, 0.111)</td>
<td class="gt_row gt_right" headers="stub_1_2 4. Some of the time">0.103 (0.077, 0.128)</td>
<td class="gt_row gt_right" headers="stub_1_2 5. Never">0.036 (0.007, 0.065)</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">3. About half the time</td>
<td class="gt_row gt_right" headers="stub_1_3 1. Always">0.228 (0.043, 0.414)</td>
<td class="gt_row gt_right" headers="stub_1_3 2. Most of the time">0.303 (0.273, 0.334)</td>
<td class="gt_row gt_right" headers="stub_1_3 3. About half the time">0.37 (0.331, 0.41)</td>
<td class="gt_row gt_right" headers="stub_1_3 4. Some of the time">0.198 (0.165, 0.23)</td>
<td class="gt_row gt_right" headers="stub_1_3 5. Never">0.11 (0.061, 0.158)</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">4. Some of the time</td>
<td class="gt_row gt_right" headers="stub_1_4 1. Always">0.162 (0.046, 0.279)</td>
<td class="gt_row gt_right" headers="stub_1_4 2. Most of the time">0.417 (0.385, 0.449)</td>
<td class="gt_row gt_right" headers="stub_1_4 3. About half the time">0.383 (0.348, 0.418)</td>
<td class="gt_row gt_right" headers="stub_1_4 4. Some of the time">0.509 (0.465, 0.553)</td>
<td class="gt_row gt_right" headers="stub_1_4 5. Never">0.327 (0.231, 0.423)</td>
</tr>
<tr class="odd">
<td id="stub_1_5" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">5. Never</td>
<td class="gt_row gt_right" headers="stub_1_5 1. Always">0.208 (0.069, 0.347)</td>
<td class="gt_row gt_right" headers="stub_1_5 2. Most of the time">0.091 (0.074, 0.109)</td>
<td class="gt_row gt_right" headers="stub_1_5 3. About half the time">0.147 (0.121, 0.173)</td>
<td class="gt_row gt_right" headers="stub_1_5 4. Some of the time">0.182 (0.151, 0.212)</td>
<td class="gt_row gt_right" headers="stub_1_5 5. Never">0.493 (0.399, 0.587)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section></section>
<section id="your-turn-2" class="title-slide slide level1 center" data-background-image="images/header.png">
<h1>Your Turn</h1>
<ul>
<li>Go to bit.ly/MAPOR-2025-short-course</li>
<li>Open <code>04-testing-exercises.qmd</code></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_9d6e72d7" data-warn-when="180" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">08</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<div class="footer">
<p>bit.ly/MAPOR-2025-short-course</p>
</div>
</section>

<section>
<section id="modeling" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Modeling</h1>

</section>
<section id="introduction-2" class="slide level2">
<h2>Introduction</h2>
<div>
<ul>
<li class="fragment">Modeling investigates the relationship between a single dependent variable and one or more independent variables.</li>
<li class="fragment"><strong>Logistic regression</strong> is a specific case of the generalized linear model (GLM).</li>
<li class="fragment">Logistic regression is used to model binary outcomes, such as whether or not someone voted.</li>
</ul>
</div>
</section>
<section id="introduction-3" class="slide level2">
<h2>Introduction</h2>
<p>Assumptions in logistic regression using survey data include:</p>
<ul>
<li>The outcome variable has two levels</li>
<li>There is a linear relationship between the independent variables and the log odds (the equation for the logit function)</li>
<li>The residuals are homoscedastic; that is, the error term is the same across all values of independent variables</li>
</ul>
</section>
<section id="svyglm-syntax" class="slide level2">
<h2><code>svyglm</code>: syntax</h2>
<div class="sourceCode" id="cb74" data-code-line-numbers="|1|2,8|3|4|5|6|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a></a>des_obj <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a></a>  <span class="fu">svyglm</span>(</span>
<span id="cb74-3"><a></a>    <span class="at">formula =</span> outcomevar <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3,</span>
<span id="cb74-4"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb74-5"><a></a>    <span class="at">na.action =</span> na.omit,</span>
<span id="cb74-6"><a></a>    <span class="at">df.resid =</span> <span class="cn">NULL</span>,</span>
<span id="cb74-7"><a></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb74-8"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="svyglm-example" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<p>Model whether a person usually trusts the government based on who they voted for in 2024<sup>1</sup>:</p>
<div class="fragment">
<ol type="1">
<li>Create a binary trust variable by grouping ‘Always’ and ‘Most of the time’ into one category, and all remaining responses into the other.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a>anes_des_der <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a></a>  <span class="fu">mutate</span>(<span class="at">TrustGovernmentUsually =</span> <span class="fu">case_when</span>(</span>
<span id="cb75-3"><a></a>    <span class="fu">is.na</span>(TrustGovernment) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb75-4"><a></a>    <span class="cn">TRUE</span> <span class="sc">~</span> TrustGovernment <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1. Always"</span>, <span class="st">"2. Most of the time"</span>)</span>
<span id="cb75-5"><a></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p><a href="https://electionstudies.org/data-center/20204time-series-study/" class="uri">https://electionstudies.org/data-center/20204time-series-study/</a></p></li></ol></aside></section>
<section id="svyglm-example-1" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<ol start="2" type="1">
<li>Summarize the data:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb76" data-code-line-numbers="|3|4-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a></a>anes_des_summary <span class="ot">&lt;-</span></span>
<span id="cb76-2"><a></a>  anes_des_der <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a></a>  <span class="fu">group_by</span>(VotedPres2024_selection) <span class="sc">%&gt;%</span></span>
<span id="cb76-4"><a></a>  <span class="fu">summarize</span>(<span class="at">pct_trust =</span> <span class="fu">survey_mean</span>(</span>
<span id="cb76-5"><a></a>    TrustGovernmentUsually,</span>
<span id="cb76-6"><a></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb76-7"><a></a>    <span class="at">proportion =</span> <span class="cn">TRUE</span>,</span>
<span id="cb76-8"><a></a>    <span class="at">vartype =</span> <span class="st">"ci"</span>),</span>
<span id="cb76-9"><a></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb76-10"><a></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-11"><a></a>  <span class="fu">filter</span>(<span class="fu">complete.cases</span>(.))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="svyglm-example-2" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<ol start="3" type="1">
<li>Plot the summary of the data:</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a>anes_des_summary <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb77-3"><a></a>    <span class="at">x =</span> VotedPres2024_selection, <span class="at">y =</span> pct_trust,</span>
<span id="cb77-4"><a></a>    <span class="at">fill =</span> VotedPres2024_selection</span>
<span id="cb77-5"><a></a>  )) <span class="sc">+</span></span>
<span id="cb77-6"><a></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb77-7"><a></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> pct_trust_low, <span class="at">ymax =</span> pct_trust_upp),</span>
<span id="cb77-8"><a></a>    <span class="at">width =</span> .<span class="dv">2</span></span>
<span id="cb77-9"><a></a>  ) <span class="sc">+</span></span>
<span id="cb77-10"><a></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#0b3954"</span>, <span class="st">"#bfd7ea"</span>, <span class="st">"#8d6b94"</span>)) <span class="sc">+</span></span>
<span id="cb77-11"><a></a>  <span class="fu">xlab</span>(<span class="st">"Election choice (2020)"</span>) <span class="sc">+</span></span>
<span id="cb77-12"><a></a>  <span class="fu">ylab</span>(<span class="st">"Usually trust the government"</span>) <span class="sc">+</span></span>
<span id="cb77-13"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb77-14"><a></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb77-15"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="full-slide-deck_files/figure-revealjs/unnamed-chunk-3-1.png" width="3000" class="r-stretch"></section>
<section id="svyglm-example-3" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<ol start="4" type="1">
<li>Verify by fitting the model:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb78" data-code-line-numbers="|2,6|3|4|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a>logistic_trust_vote <span class="ot">&lt;-</span> anes_des_der <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a></a>  <span class="fu">svyglm</span>(</span>
<span id="cb78-3"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb78-4"><a></a>    <span class="at">formula =</span> TrustGovernmentUsually <span class="sc">~</span> VotedPres2024_selection,</span>
<span id="cb78-5"><a></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb78-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="svyglm-example-4" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<ol start="4" type="1">
<li>Verify by fitting the model:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb79" data-code-line-numbers="|2,5|3,6|1,7,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a><span class="fu">library</span>(gt)</span>
<span id="cb79-2"><a></a><span class="fu">library</span>(broom)</span>
<span id="cb79-3"><a></a><span class="fu">library</span>(prettyunits)</span>
<span id="cb79-4"><a></a></span>
<span id="cb79-5"><a></a><span class="fu">tidy</span>(logistic_trust_vote) <span class="sc">%&gt;%</span></span>
<span id="cb79-6"><a></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb79-7"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb79-8"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="asyezzinmy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#asyezzinmy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#asyezzinmy thead, #asyezzinmy tbody, #asyezzinmy tfoot, #asyezzinmy tr, #asyezzinmy td, #asyezzinmy th {
  border-style: none;
}

#asyezzinmy p {
  margin: 0;
  padding: 0;
}

#asyezzinmy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#asyezzinmy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#asyezzinmy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#asyezzinmy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#asyezzinmy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#asyezzinmy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#asyezzinmy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#asyezzinmy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#asyezzinmy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#asyezzinmy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#asyezzinmy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#asyezzinmy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#asyezzinmy .gt_spanner_row {
  border-bottom-style: hidden;
}

#asyezzinmy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#asyezzinmy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#asyezzinmy .gt_from_md > :first-child {
  margin-top: 0;
}

#asyezzinmy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#asyezzinmy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#asyezzinmy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#asyezzinmy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#asyezzinmy .gt_row_group_first td {
  border-top-width: 2px;
}

#asyezzinmy .gt_row_group_first th {
  border-top-width: 2px;
}

#asyezzinmy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#asyezzinmy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#asyezzinmy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#asyezzinmy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#asyezzinmy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#asyezzinmy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#asyezzinmy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#asyezzinmy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#asyezzinmy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#asyezzinmy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#asyezzinmy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#asyezzinmy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#asyezzinmy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#asyezzinmy .gt_left {
  text-align: left;
}

#asyezzinmy .gt_center {
  text-align: center;
}

#asyezzinmy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#asyezzinmy .gt_font_normal {
  font-weight: normal;
}

#asyezzinmy .gt_font_bold {
  font-weight: bold;
}

#asyezzinmy .gt_font_italic {
  font-style: italic;
}

#asyezzinmy .gt_super {
  font-size: 65%;
}

#asyezzinmy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#asyezzinmy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#asyezzinmy .gt_indent_1 {
  text-indent: 5px;
}

#asyezzinmy .gt_indent_2 {
  text-indent: 10px;
}

#asyezzinmy .gt_indent_3 {
  text-indent: 15px;
}

#asyezzinmy .gt_indent_4 {
  text-indent: 20px;
}

#asyezzinmy .gt_indent_5 {
  text-indent: 25px;
}

#asyezzinmy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#asyezzinmy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.07</td>
<td class="gt_row gt_right" headers="statistic">−16.54</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">VotedPres2024_selection2. Donald Trump</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.16</td>
<td class="gt_row gt_right" headers="statistic">−7.65</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">VotedPres2024_selectionOther</td>
<td class="gt_row gt_right" headers="estimate">−1.22</td>
<td class="gt_row gt_right" headers="std.error">0.75</td>
<td class="gt_row gt_right" headers="statistic">−1.62</td>
<td class="gt_row gt_left" headers="p.value">0.1050</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="svyglm-example-5" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<p>Result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a><span class="fu">tidy</span>(logistic_trust_vote) <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb80-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="edktqhqjgx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#edktqhqjgx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#edktqhqjgx thead, #edktqhqjgx tbody, #edktqhqjgx tfoot, #edktqhqjgx tr, #edktqhqjgx td, #edktqhqjgx th {
  border-style: none;
}

#edktqhqjgx p {
  margin: 0;
  padding: 0;
}

#edktqhqjgx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#edktqhqjgx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#edktqhqjgx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#edktqhqjgx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#edktqhqjgx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#edktqhqjgx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edktqhqjgx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#edktqhqjgx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#edktqhqjgx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#edktqhqjgx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#edktqhqjgx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#edktqhqjgx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#edktqhqjgx .gt_spanner_row {
  border-bottom-style: hidden;
}

#edktqhqjgx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#edktqhqjgx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#edktqhqjgx .gt_from_md > :first-child {
  margin-top: 0;
}

#edktqhqjgx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#edktqhqjgx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#edktqhqjgx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#edktqhqjgx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#edktqhqjgx .gt_row_group_first td {
  border-top-width: 2px;
}

#edktqhqjgx .gt_row_group_first th {
  border-top-width: 2px;
}

#edktqhqjgx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#edktqhqjgx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#edktqhqjgx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#edktqhqjgx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edktqhqjgx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#edktqhqjgx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#edktqhqjgx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#edktqhqjgx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#edktqhqjgx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#edktqhqjgx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#edktqhqjgx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#edktqhqjgx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#edktqhqjgx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#edktqhqjgx .gt_left {
  text-align: left;
}

#edktqhqjgx .gt_center {
  text-align: center;
}

#edktqhqjgx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#edktqhqjgx .gt_font_normal {
  font-weight: normal;
}

#edktqhqjgx .gt_font_bold {
  font-weight: bold;
}

#edktqhqjgx .gt_font_italic {
  font-style: italic;
}

#edktqhqjgx .gt_super {
  font-size: 65%;
}

#edktqhqjgx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#edktqhqjgx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#edktqhqjgx .gt_indent_1 {
  text-indent: 5px;
}

#edktqhqjgx .gt_indent_2 {
  text-indent: 10px;
}

#edktqhqjgx .gt_indent_3 {
  text-indent: 15px;
}

#edktqhqjgx .gt_indent_4 {
  text-indent: 20px;
}

#edktqhqjgx .gt_indent_5 {
  text-indent: 25px;
}

#edktqhqjgx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#edktqhqjgx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.07</td>
<td class="gt_row gt_right" headers="statistic">−16.54</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">VotedPres2024_selection2. Donald Trump</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.16</td>
<td class="gt_row gt_right" headers="statistic">−7.65</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">VotedPres2024_selectionOther</td>
<td class="gt_row gt_right" headers="estimate">−1.22</td>
<td class="gt_row gt_right" headers="std.error">0.75</td>
<td class="gt_row gt_right" headers="statistic">−1.62</td>
<td class="gt_row gt_left" headers="p.value">0.1050</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol type="1">
<li>Estimated coefficients (<code>estimate</code>)</li>
<li>Estimated standard errors of the coefficients (<code>std.error</code>)</li>
<li>p-value for each coefficient</li>
</ol>
</section>
<section id="svyglm-example-6" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<p>Result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a><span class="fu">tidy</span>(logistic_trust_vote) <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="qcpwfmhsoi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qcpwfmhsoi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qcpwfmhsoi thead, #qcpwfmhsoi tbody, #qcpwfmhsoi tfoot, #qcpwfmhsoi tr, #qcpwfmhsoi td, #qcpwfmhsoi th {
  border-style: none;
}

#qcpwfmhsoi p {
  margin: 0;
  padding: 0;
}

#qcpwfmhsoi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qcpwfmhsoi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qcpwfmhsoi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qcpwfmhsoi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qcpwfmhsoi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qcpwfmhsoi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qcpwfmhsoi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qcpwfmhsoi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qcpwfmhsoi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qcpwfmhsoi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qcpwfmhsoi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qcpwfmhsoi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qcpwfmhsoi .gt_spanner_row {
  border-bottom-style: hidden;
}

#qcpwfmhsoi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qcpwfmhsoi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qcpwfmhsoi .gt_from_md > :first-child {
  margin-top: 0;
}

#qcpwfmhsoi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qcpwfmhsoi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qcpwfmhsoi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qcpwfmhsoi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qcpwfmhsoi .gt_row_group_first td {
  border-top-width: 2px;
}

#qcpwfmhsoi .gt_row_group_first th {
  border-top-width: 2px;
}

#qcpwfmhsoi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qcpwfmhsoi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qcpwfmhsoi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qcpwfmhsoi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qcpwfmhsoi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qcpwfmhsoi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qcpwfmhsoi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qcpwfmhsoi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qcpwfmhsoi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qcpwfmhsoi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qcpwfmhsoi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qcpwfmhsoi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qcpwfmhsoi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qcpwfmhsoi .gt_left {
  text-align: left;
}

#qcpwfmhsoi .gt_center {
  text-align: center;
}

#qcpwfmhsoi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qcpwfmhsoi .gt_font_normal {
  font-weight: normal;
}

#qcpwfmhsoi .gt_font_bold {
  font-weight: bold;
}

#qcpwfmhsoi .gt_font_italic {
  font-style: italic;
}

#qcpwfmhsoi .gt_super {
  font-size: 65%;
}

#qcpwfmhsoi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qcpwfmhsoi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qcpwfmhsoi .gt_indent_1 {
  text-indent: 5px;
}

#qcpwfmhsoi .gt_indent_2 {
  text-indent: 10px;
}

#qcpwfmhsoi .gt_indent_3 {
  text-indent: 15px;
}

#qcpwfmhsoi .gt_indent_4 {
  text-indent: 20px;
}

#qcpwfmhsoi .gt_indent_5 {
  text-indent: 25px;
}

#qcpwfmhsoi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#qcpwfmhsoi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.07</td>
<td class="gt_row gt_right" headers="statistic">−16.54</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">VotedPres2024_selection2. Donald Trump</td>
<td class="gt_row gt_right" headers="estimate">−1.24</td>
<td class="gt_row gt_right" headers="std.error">0.16</td>
<td class="gt_row gt_right" headers="statistic">−7.65</td>
<td class="gt_row gt_left" headers="p.value">&lt;0.0001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">VotedPres2024_selectionOther</td>
<td class="gt_row gt_right" headers="estimate">−1.22</td>
<td class="gt_row gt_right" headers="std.error">0.75</td>
<td class="gt_row gt_right" headers="statistic">−1.62</td>
<td class="gt_row gt_left" headers="p.value">0.1050</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Compared with Harris voters, Trump voters show lower levels of trust in the government.</p>
<div class="fragment">
<p>The coefficient of <strong>-1.24</strong> represents the increase in the log odds of usually trusting the government.</p>
</div>
</section>
<section id="svyglm-example-7" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<p>To talk about odds rather than log odds, we can exponentiate the coefficients:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82" data-code-line-numbers="|1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a><span class="fu">tidy</span>(logistic_trust_vote, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a></a>  <span class="fu">select</span>(term, estimate) <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="xdpmdgzrhg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xdpmdgzrhg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xdpmdgzrhg thead, #xdpmdgzrhg tbody, #xdpmdgzrhg tfoot, #xdpmdgzrhg tr, #xdpmdgzrhg td, #xdpmdgzrhg th {
  border-style: none;
}

#xdpmdgzrhg p {
  margin: 0;
  padding: 0;
}

#xdpmdgzrhg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xdpmdgzrhg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xdpmdgzrhg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xdpmdgzrhg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xdpmdgzrhg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xdpmdgzrhg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xdpmdgzrhg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xdpmdgzrhg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xdpmdgzrhg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xdpmdgzrhg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xdpmdgzrhg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xdpmdgzrhg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xdpmdgzrhg .gt_spanner_row {
  border-bottom-style: hidden;
}

#xdpmdgzrhg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xdpmdgzrhg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xdpmdgzrhg .gt_from_md > :first-child {
  margin-top: 0;
}

#xdpmdgzrhg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xdpmdgzrhg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xdpmdgzrhg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xdpmdgzrhg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xdpmdgzrhg .gt_row_group_first td {
  border-top-width: 2px;
}

#xdpmdgzrhg .gt_row_group_first th {
  border-top-width: 2px;
}

#xdpmdgzrhg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdpmdgzrhg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xdpmdgzrhg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xdpmdgzrhg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xdpmdgzrhg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdpmdgzrhg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xdpmdgzrhg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xdpmdgzrhg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xdpmdgzrhg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xdpmdgzrhg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xdpmdgzrhg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdpmdgzrhg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xdpmdgzrhg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdpmdgzrhg .gt_left {
  text-align: left;
}

#xdpmdgzrhg .gt_center {
  text-align: center;
}

#xdpmdgzrhg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xdpmdgzrhg .gt_font_normal {
  font-weight: normal;
}

#xdpmdgzrhg .gt_font_bold {
  font-weight: bold;
}

#xdpmdgzrhg .gt_font_italic {
  font-style: italic;
}

#xdpmdgzrhg .gt_super {
  font-size: 65%;
}

#xdpmdgzrhg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xdpmdgzrhg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xdpmdgzrhg .gt_indent_1 {
  text-indent: 5px;
}

#xdpmdgzrhg .gt_indent_2 {
  text-indent: 10px;
}

#xdpmdgzrhg .gt_indent_3 {
  text-indent: 15px;
}

#xdpmdgzrhg .gt_indent_4 {
  text-indent: 20px;
}

#xdpmdgzrhg .gt_indent_5 {
  text-indent: 25px;
}

#xdpmdgzrhg .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#xdpmdgzrhg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">0.29</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">VotedPres2024_selection2. Donald Trump</td>
<td class="gt_row gt_right" headers="estimate">0.29</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">VotedPres2024_selectionOther</td>
<td class="gt_row gt_right" headers="estimate">0.30</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="svyglm-example-8" class="slide level2">
<h2><code>svyglm</code>: example</h2>
<p>Result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83" data-code-line-numbers="|1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a><span class="fu">tidy</span>(logistic_trust_vote, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a></a>  <span class="fu">select</span>(term, estimate) <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb83-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="mpnmgjfcau" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mpnmgjfcau table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mpnmgjfcau thead, #mpnmgjfcau tbody, #mpnmgjfcau tfoot, #mpnmgjfcau tr, #mpnmgjfcau td, #mpnmgjfcau th {
  border-style: none;
}

#mpnmgjfcau p {
  margin: 0;
  padding: 0;
}

#mpnmgjfcau .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mpnmgjfcau .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mpnmgjfcau .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mpnmgjfcau .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mpnmgjfcau .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mpnmgjfcau .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpnmgjfcau .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mpnmgjfcau .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mpnmgjfcau .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mpnmgjfcau .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mpnmgjfcau .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mpnmgjfcau .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mpnmgjfcau .gt_spanner_row {
  border-bottom-style: hidden;
}

#mpnmgjfcau .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mpnmgjfcau .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mpnmgjfcau .gt_from_md > :first-child {
  margin-top: 0;
}

#mpnmgjfcau .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mpnmgjfcau .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mpnmgjfcau .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mpnmgjfcau .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mpnmgjfcau .gt_row_group_first td {
  border-top-width: 2px;
}

#mpnmgjfcau .gt_row_group_first th {
  border-top-width: 2px;
}

#mpnmgjfcau .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpnmgjfcau .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mpnmgjfcau .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mpnmgjfcau .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpnmgjfcau .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpnmgjfcau .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mpnmgjfcau .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mpnmgjfcau .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mpnmgjfcau .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpnmgjfcau .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mpnmgjfcau .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpnmgjfcau .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mpnmgjfcau .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpnmgjfcau .gt_left {
  text-align: left;
}

#mpnmgjfcau .gt_center {
  text-align: center;
}

#mpnmgjfcau .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mpnmgjfcau .gt_font_normal {
  font-weight: normal;
}

#mpnmgjfcau .gt_font_bold {
  font-weight: bold;
}

#mpnmgjfcau .gt_font_italic {
  font-style: italic;
}

#mpnmgjfcau .gt_super {
  font-size: 65%;
}

#mpnmgjfcau .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mpnmgjfcau .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mpnmgjfcau .gt_indent_1 {
  text-indent: 5px;
}

#mpnmgjfcau .gt_indent_2 {
  text-indent: 10px;
}

#mpnmgjfcau .gt_indent_3 {
  text-indent: 15px;
}

#mpnmgjfcau .gt_indent_4 {
  text-indent: 20px;
}

#mpnmgjfcau .gt_indent_5 {
  text-indent: 25px;
}

#mpnmgjfcau .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mpnmgjfcau div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">0.29</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">VotedPres2024_selection2. Donald Trump</td>
<td class="gt_row gt_right" headers="estimate">0.29</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">VotedPres2024_selectionOther</td>
<td class="gt_row gt_right" headers="estimate">0.30</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The odds that a Trump voter usually trusts the government are about <strong>29%</strong> of the odds for a Harris voter, who serves as the reference group.</p>
</section>
<section id="interaction-effects" class="slide level2">
<h2>Interaction effects</h2>
<p>Next, examine the interaction between early voting and income group in the model.</p>
<ol type="1">
<li>Subset to 2024 voters and create an indicator for Harris voters.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a>anes_des_ind <span class="ot">&lt;-</span> anes_des <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(VotedPres2024_selection)) <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a></a>  <span class="fu">mutate</span>(<span class="at">VoteHarris =</span> <span class="fu">case_when</span>(</span>
<span id="cb84-4"><a></a>    VotedPres2024_selection <span class="sc">==</span> <span class="st">"1. Kamala Harris"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb84-5"><a></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb84-6"><a></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interaction-effects-1" class="slide level2">
<h2>Interaction effects</h2>
<ol start="2" type="1">
<li>Let’s look at the main effects of income grouping and early voting behavior.</li>
</ol>
<div class="cell" data-code-line_numbers="|7">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>log_harris_main <span class="ot">&lt;-</span> anes_des_ind <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-3"><a></a>    <span class="at">EarlyVote2024 =</span> <span class="fu">fct_relevel</span>(EarlyVote2024, <span class="st">"2. Have not voted"</span>, <span class="at">after =</span> <span class="dv">0</span>)</span>
<span id="cb85-4"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb85-5"><a></a>  <span class="fu">svyglm</span>(</span>
<span id="cb85-6"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb85-7"><a></a>    <span class="at">formula =</span> VoteHarris <span class="sc">~</span> EarlyVote2024 <span class="sc">+</span> Income7,</span>
<span id="cb85-8"><a></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb85-9"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interaction-effects-2" class="slide level2 smaller">
<h2>Interaction effects</h2>
<p>Results:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a><span class="fu">tidy</span>(log_harris_main) <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb86-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="flgxnrcjst" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#flgxnrcjst table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#flgxnrcjst thead, #flgxnrcjst tbody, #flgxnrcjst tfoot, #flgxnrcjst tr, #flgxnrcjst td, #flgxnrcjst th {
  border-style: none;
}

#flgxnrcjst p {
  margin: 0;
  padding: 0;
}

#flgxnrcjst .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#flgxnrcjst .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#flgxnrcjst .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#flgxnrcjst .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#flgxnrcjst .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flgxnrcjst .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flgxnrcjst .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flgxnrcjst .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#flgxnrcjst .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#flgxnrcjst .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#flgxnrcjst .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#flgxnrcjst .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#flgxnrcjst .gt_spanner_row {
  border-bottom-style: hidden;
}

#flgxnrcjst .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#flgxnrcjst .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#flgxnrcjst .gt_from_md > :first-child {
  margin-top: 0;
}

#flgxnrcjst .gt_from_md > :last-child {
  margin-bottom: 0;
}

#flgxnrcjst .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#flgxnrcjst .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#flgxnrcjst .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#flgxnrcjst .gt_row_group_first td {
  border-top-width: 2px;
}

#flgxnrcjst .gt_row_group_first th {
  border-top-width: 2px;
}

#flgxnrcjst .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flgxnrcjst .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#flgxnrcjst .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#flgxnrcjst .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flgxnrcjst .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flgxnrcjst .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#flgxnrcjst .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#flgxnrcjst .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#flgxnrcjst .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flgxnrcjst .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flgxnrcjst .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flgxnrcjst .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flgxnrcjst .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flgxnrcjst .gt_left {
  text-align: left;
}

#flgxnrcjst .gt_center {
  text-align: center;
}

#flgxnrcjst .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#flgxnrcjst .gt_font_normal {
  font-weight: normal;
}

#flgxnrcjst .gt_font_bold {
  font-weight: bold;
}

#flgxnrcjst .gt_font_italic {
  font-style: italic;
}

#flgxnrcjst .gt_super {
  font-size: 65%;
}

#flgxnrcjst .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#flgxnrcjst .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#flgxnrcjst .gt_indent_1 {
  text-indent: 5px;
}

#flgxnrcjst .gt_indent_2 {
  text-indent: 10px;
}

#flgxnrcjst .gt_indent_3 {
  text-indent: 15px;
}

#flgxnrcjst .gt_indent_4 {
  text-indent: 20px;
}

#flgxnrcjst .gt_indent_5 {
  text-indent: 25px;
}

#flgxnrcjst .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#flgxnrcjst div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">−0.03</td>
<td class="gt_row gt_right" headers="std.error">0.17</td>
<td class="gt_row gt_right" headers="statistic">−0.18</td>
<td class="gt_row gt_right" headers="p.value">0.8576</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted</td>
<td class="gt_row gt_right" headers="estimate">0.12</td>
<td class="gt_row gt_right" headers="std.error">0.20</td>
<td class="gt_row gt_right" headers="statistic">0.60</td>
<td class="gt_row gt_right" headers="p.value">0.5508</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$20k to &lt; 40k</td>
<td class="gt_row gt_right" headers="estimate">−0.24</td>
<td class="gt_row gt_right" headers="std.error">0.22</td>
<td class="gt_row gt_right" headers="statistic">−1.09</td>
<td class="gt_row gt_right" headers="p.value">0.2764</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$40k to &lt; 60k</td>
<td class="gt_row gt_right" headers="estimate">−0.04</td>
<td class="gt_row gt_right" headers="std.error">0.22</td>
<td class="gt_row gt_right" headers="statistic">−0.16</td>
<td class="gt_row gt_right" headers="p.value">0.8720</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$60k to &lt; 80k</td>
<td class="gt_row gt_right" headers="estimate">−0.05</td>
<td class="gt_row gt_right" headers="std.error">0.20</td>
<td class="gt_row gt_right" headers="statistic">−0.24</td>
<td class="gt_row gt_right" headers="p.value">0.8104</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$80k to &lt; 100k</td>
<td class="gt_row gt_right" headers="estimate">0.34</td>
<td class="gt_row gt_right" headers="std.error">0.23</td>
<td class="gt_row gt_right" headers="statistic">1.49</td>
<td class="gt_row gt_right" headers="p.value">0.1366</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$100k to &lt; 125k</td>
<td class="gt_row gt_right" headers="estimate">−0.04</td>
<td class="gt_row gt_right" headers="std.error">0.22</td>
<td class="gt_row gt_right" headers="statistic">−0.20</td>
<td class="gt_row gt_right" headers="p.value">0.8405</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$125k or more</td>
<td class="gt_row gt_right" headers="estimate">0.43</td>
<td class="gt_row gt_right" headers="std.error">0.19</td>
<td class="gt_row gt_right" headers="statistic">2.26</td>
<td class="gt_row gt_right" headers="p.value">0.0243</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This indicates that people with incomes of $125,000 or more were more likely to vote for Harris in the 2024 election compared to people with incomes of $20,000 or less (reference level).</p>
<div class="fragment">
<p>Early voting behavior was not significant.</p>
</div>
</section>
<section id="interaction-effects-3" class="slide level2">
<h2>Interaction effects</h2>
<p>To find the interaction between income and early voting behavior:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87" data-code-line-numbers="|7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>log_harris_int <span class="ot">&lt;-</span> anes_des_ind <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb87-3"><a></a>    <span class="at">EarlyVote2024 =</span> <span class="fu">fct_relevel</span>(EarlyVote2024, <span class="st">"2. Have not voted"</span>, <span class="at">after =</span> <span class="dv">0</span>)</span>
<span id="cb87-4"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb87-5"><a></a>  <span class="fu">svyglm</span>(</span>
<span id="cb87-6"><a></a>    <span class="at">design =</span> .,</span>
<span id="cb87-7"><a></a>    <span class="at">formula =</span> VoteHarris <span class="sc">~</span> (EarlyVote2024 <span class="sc">+</span> Income7)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb87-8"><a></a>    <span class="at">family =</span> quasibinomial</span>
<span id="cb87-9"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interaction-effects-4" class="slide level2 smaller">
<h2>Interaction effects</h2>
<p>Results:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a></a><span class="fu">tidy</span>(log_harris_int) <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a></a>  <span class="fu">mutate</span>(<span class="at">p.value =</span> <span class="fu">pretty_p_value</span>(p.value)) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb88-4"><a></a>  <span class="fu">fmt_number</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="kxszvfhnic" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kxszvfhnic table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kxszvfhnic thead, #kxszvfhnic tbody, #kxszvfhnic tfoot, #kxszvfhnic tr, #kxszvfhnic td, #kxszvfhnic th {
  border-style: none;
}

#kxszvfhnic p {
  margin: 0;
  padding: 0;
}

#kxszvfhnic .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kxszvfhnic .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kxszvfhnic .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kxszvfhnic .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kxszvfhnic .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kxszvfhnic .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kxszvfhnic .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kxszvfhnic .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kxszvfhnic .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kxszvfhnic .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kxszvfhnic .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kxszvfhnic .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kxszvfhnic .gt_spanner_row {
  border-bottom-style: hidden;
}

#kxszvfhnic .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kxszvfhnic .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kxszvfhnic .gt_from_md > :first-child {
  margin-top: 0;
}

#kxszvfhnic .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kxszvfhnic .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kxszvfhnic .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kxszvfhnic .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kxszvfhnic .gt_row_group_first td {
  border-top-width: 2px;
}

#kxszvfhnic .gt_row_group_first th {
  border-top-width: 2px;
}

#kxszvfhnic .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kxszvfhnic .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kxszvfhnic .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kxszvfhnic .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kxszvfhnic .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kxszvfhnic .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kxszvfhnic .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kxszvfhnic .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kxszvfhnic .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kxszvfhnic .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kxszvfhnic .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kxszvfhnic .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kxszvfhnic .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kxszvfhnic .gt_left {
  text-align: left;
}

#kxszvfhnic .gt_center {
  text-align: center;
}

#kxszvfhnic .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kxszvfhnic .gt_font_normal {
  font-weight: normal;
}

#kxszvfhnic .gt_font_bold {
  font-weight: bold;
}

#kxszvfhnic .gt_font_italic {
  font-style: italic;
}

#kxszvfhnic .gt_super {
  font-size: 65%;
}

#kxszvfhnic .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kxszvfhnic .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kxszvfhnic .gt_indent_1 {
  text-indent: 5px;
}

#kxszvfhnic .gt_indent_2 {
  text-indent: 10px;
}

#kxszvfhnic .gt_indent_3 {
  text-indent: 15px;
}

#kxszvfhnic .gt_indent_4 {
  text-indent: 20px;
}

#kxszvfhnic .gt_indent_5 {
  text-indent: 25px;
}

#kxszvfhnic .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#kxszvfhnic div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">statistic</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">(Intercept)</td>
<td class="gt_row gt_right" headers="estimate">−0.05</td>
<td class="gt_row gt_right" headers="std.error">0.18</td>
<td class="gt_row gt_right" headers="statistic">−0.26</td>
<td class="gt_row gt_right" headers="p.value">0.7920</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted</td>
<td class="gt_row gt_right" headers="estimate">0.33</td>
<td class="gt_row gt_right" headers="std.error">0.47</td>
<td class="gt_row gt_right" headers="statistic">0.71</td>
<td class="gt_row gt_right" headers="p.value">0.4804</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$20k to &lt; 40k</td>
<td class="gt_row gt_right" headers="estimate">−0.19</td>
<td class="gt_row gt_right" headers="std.error">0.24</td>
<td class="gt_row gt_right" headers="statistic">−0.81</td>
<td class="gt_row gt_right" headers="p.value">0.4157</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$40k to &lt; 60k</td>
<td class="gt_row gt_right" headers="estimate">−0.05</td>
<td class="gt_row gt_right" headers="std.error">0.24</td>
<td class="gt_row gt_right" headers="statistic">−0.20</td>
<td class="gt_row gt_right" headers="p.value">0.8451</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$60k to &lt; 80k</td>
<td class="gt_row gt_right" headers="estimate">−0.07</td>
<td class="gt_row gt_right" headers="std.error">0.20</td>
<td class="gt_row gt_right" headers="statistic">−0.37</td>
<td class="gt_row gt_right" headers="p.value">0.7115</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$80k to &lt; 100k</td>
<td class="gt_row gt_right" headers="estimate">0.32</td>
<td class="gt_row gt_right" headers="std.error">0.24</td>
<td class="gt_row gt_right" headers="statistic">1.34</td>
<td class="gt_row gt_right" headers="p.value">0.1812</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">Income7$100k to &lt; 125k</td>
<td class="gt_row gt_right" headers="estimate">0.03</td>
<td class="gt_row gt_right" headers="std.error">0.24</td>
<td class="gt_row gt_right" headers="statistic">0.11</td>
<td class="gt_row gt_right" headers="p.value">0.9119</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">Income7$125k or more</td>
<td class="gt_row gt_right" headers="estimate">0.46</td>
<td class="gt_row gt_right" headers="std.error">0.20</td>
<td class="gt_row gt_right" headers="statistic">2.28</td>
<td class="gt_row gt_right" headers="p.value">0.0228</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$20k to &lt; 40k</td>
<td class="gt_row gt_right" headers="estimate">−0.62</td>
<td class="gt_row gt_right" headers="std.error">0.67</td>
<td class="gt_row gt_right" headers="statistic">−0.92</td>
<td class="gt_row gt_right" headers="p.value">0.3578</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$40k to &lt; 60k</td>
<td class="gt_row gt_right" headers="estimate">0.00</td>
<td class="gt_row gt_right" headers="std.error">0.65</td>
<td class="gt_row gt_right" headers="statistic">0.01</td>
<td class="gt_row gt_right" headers="p.value">0.9955</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$60k to &lt; 80k</td>
<td class="gt_row gt_right" headers="estimate">0.37</td>
<td class="gt_row gt_right" headers="std.error">0.84</td>
<td class="gt_row gt_right" headers="statistic">0.45</td>
<td class="gt_row gt_right" headers="p.value">0.6547</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$80k to &lt; 100k</td>
<td class="gt_row gt_right" headers="estimate">0.30</td>
<td class="gt_row gt_right" headers="std.error">0.84</td>
<td class="gt_row gt_right" headers="statistic">0.36</td>
<td class="gt_row gt_right" headers="p.value">0.7181</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$100k to &lt; 125k</td>
<td class="gt_row gt_right" headers="estimate">−0.98</td>
<td class="gt_row gt_right" headers="std.error">0.65</td>
<td class="gt_row gt_right" headers="statistic">−1.50</td>
<td class="gt_row gt_right" headers="p.value">0.1334</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">EarlyVote20241. Have voted:Income7$125k or more</td>
<td class="gt_row gt_right" headers="estimate">−0.39</td>
<td class="gt_row gt_right" headers="std.error">0.58</td>
<td class="gt_row gt_right" headers="statistic">−0.67</td>
<td class="gt_row gt_right" headers="p.value">0.5023</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section></section>
<section id="your-turn-3" class="title-slide slide level1 center" data-background-image="images/header.png">
<h1>Your Turn</h1>
<ul>
<li>Go to bit.ly/MAPOR-2025-short-course</li>
<li>Open <code>05-modeling-exercises.qmd</code></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_d373596a" data-warn-when="180" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">08</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
<div class="footer">
<p>bit.ly/MAPOR-2025-short-course</p>
</div>
</section>

<section>
<section id="sampling-designs-in-srvyr" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Sampling designs in {srvyr}</h1>

</section>
<section id="sampling-methods" class="slide level2">
<h2>Sampling methods</h2>
<p>Units can be selected in various ways such as:</p>
<ul>
<li><p><strong>Simple random sampling (with or without replacement):</strong> every unit has the same chance of being selected</p></li>
<li><p><strong>Systematic sampling:</strong> sample individuals from an ordered list and sampling individuals at an interval with a random starting point</p></li>
<li><p><strong>Probability proportional to size:</strong> probability of selection is proportional to “size”</p></li>
</ul>
</section>
<section id="complex-designs" class="slide level2">
<h2>Complex designs</h2>
<p>Designs can also incorporate stratification and/or clustering:</p>
<ul>
<li><p><strong>Stratified sampling:</strong> divide population into mutually exclusive subgroups (strata). Randomly sample within each stratum</p></li>
<li><p><strong>Clustered sampling:</strong> divide population into mutually exclusive subgroups (clusters). Randomly sample clusters and then individuals within clusters</p></li>
</ul>
</section>
<section id="why-design-matters" class="slide level2">
<h2>Why design matters?</h2>
<ul>
<li><p>The design type impacts the variability of the estimates</p></li>
<li><p>Weights impact the point estimate and the variability estimates</p></li>
<li><p>Specifying the components of the design (strata and/or clusters) and weights in R is necessary to get correct estimates</p></li>
</ul>
</section>
<section id="determining-the-design" class="slide level2 smaller">
<h2>Determining the design</h2>
<div>
<ul>
<li class="fragment"><p>Check the documentation such as methodology, design, analysis guide, or technical documentation</p></li>
<li class="fragment"><p>Documentation will indicate the variables needed to specify the design. Look for:</p>
<ul>
<li class="fragment">weight (almost always)</li>
<li class="fragment">strata and/or clusters/PSUs. Sometimes pseudo-strata and pseudo-cluster OR</li>
<li class="fragment">replicate weights (this is used instead of strata/clusters for analysis)</li>
<li class="fragment">Finite population correction or population sizes (uncommon)</li>
</ul></li>
<li class="fragment"><p>Documentation may include SAS, SUDAAN, Stata and/or R syntax</p></li>
</ul>
</div>
<aside class="notes">
<ul>
<li>We will show both ANES and RECS examples when diving into code</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="designs-without-replicate-weights" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Designs <em>without</em> replicate weights</h1>

</section>
<section id="as_survey_design-syntax" class="slide level2">
<h2><code>as_survey_design()</code>: Syntax</h2>
<ul>
<li><p>Specifying the sampling design when you don’t have replicate weights</p></li>
<li><p><code>as_survey_design()</code> creates a <code>tbl_svy</code> object that then correctly calculates weighted estimates and SEs</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb89" data-code-line-numbers="|1|2|3,7,8|4|5|6|9|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a><span class="fu">as_survey_design</span>(</span>
<span id="cb89-2"><a></a>  .data,</span>
<span id="cb89-3"><a></a>  <span class="at">ids =</span> <span class="cn">NULL</span>, <span class="co"># cluster IDs/PSUs</span></span>
<span id="cb89-4"><a></a>  <span class="at">strata =</span> <span class="cn">NULL</span>, <span class="co"># strata variables</span></span>
<span id="cb89-5"><a></a>  <span class="at">variables =</span> <span class="cn">NULL</span>, <span class="co"># defaults to all in .data</span></span>
<span id="cb89-6"><a></a>  <span class="at">fpc =</span> <span class="cn">NULL</span>, <span class="co"># variables defining the fpc</span></span>
<span id="cb89-7"><a></a>  <span class="at">nest =</span> <span class="cn">FALSE</span>, <span class="co"># TRUE/FALSE - relabel clusters to nest within strata</span></span>
<span id="cb89-8"><a></a>  <span class="at">check_strata =</span> <span class="sc">!</span>nest, <span class="co"># check that clusters are nested in strata</span></span>
<span id="cb89-9"><a></a>  <span class="at">weights =</span> <span class="cn">NULL</span> <span class="co"># weight variable,</span></span>
<span id="cb89-10"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="syntax-for-common-designs" class="slide level2 smaller">
<h2>Syntax for common designs</h2>
<p>Load in the example data from {survey} package:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a><span class="fu">data</span>(api, <span class="at">package=</span><span class="st">"survey"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>Simple Random Sample (SRS)</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a></a>apisrs <span class="sc">%&gt;%</span> <span class="fu">as_survey_design</span>(<span class="at">fpc =</span> fpc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Stratified SRS</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a></a>apistrat <span class="sc">%&gt;%</span> <span class="fu">as_survey_design</span>(<span class="at">strata =</span> stype, <span class="at">weights =</span> pw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>One-stage cluster sample with a FPC variable</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a></a>apiclus1 <span class="sc">%&gt;%</span> <span class="fu">as_survey_design</span>(<span class="at">ids =</span> dnum, <span class="at">weights =</span> pw, <span class="at">fpc =</span> fpc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Two-stage cluster sample, weights computed from population size</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a></a>apiclus2 <span class="sc">%&gt;%</span> <span class="fu">as_survey_design</span>(<span class="at">ids =</span> <span class="fu">c</span>(dnum, snum), <span class="at">fpc =</span> <span class="fu">c</span>(fpc1, fpc2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Stratified, cluster design</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a></a>apistrat <span class="sc">%&gt;%</span> <span class="fu">as_survey_design</span>(<span class="at">ids =</span> dnum, <span class="at">strata =</span> stype, <span class="at">weights =</span>pw, <span class="at">nest =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<aside><div>
<p>Examples from <code>srvyr</code> help documentation</p>
</div></aside></section></section>
<section>
<section id="example" class="title-slide slide level1 center" data-background-color="#0b3954">
<h1>Example</h1>

</section>
<section id="example-anes-2024" class="slide level2 smaller">
<h2>Example: ANES 2024</h2>
<ul>
<li>User Guide and Codebook<sup>1</sup> : Section “Data Analysis, Weights, and Variance Estimation” includes information on weights and strata/cluster variables</li>
</ul>
<blockquote>
<p>The list below indicates which weight variable to use for different types of analyses with the full release data. In general, if any post-election data are used for an estimate (alone or in combination with pre-election data), a post-election weight variable should be used, while analyses using solely pre-election data should use a pre-election weight.</p>
</blockquote>
<aside><ol class="aside-footnotes"><li id="fn2"><p><a href="https://electionstudies.org/data-center/20204time-series-study/" class="uri">https://electionstudies.org/data-center/20204time-series-study/</a></p></li></ol></aside></section>
<section id="example-anes-2024-1" class="slide level2">
<h2>Example: ANES 2024</h2>
<div class="cell">
<div class="cell-output-display">
<div id="nfxwosstro" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nfxwosstro table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nfxwosstro thead, #nfxwosstro tbody, #nfxwosstro tfoot, #nfxwosstro tr, #nfxwosstro td, #nfxwosstro th {
  border-style: none;
}

#nfxwosstro p {
  margin: 0;
  padding: 0;
}

#nfxwosstro .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nfxwosstro .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nfxwosstro .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nfxwosstro .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nfxwosstro .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nfxwosstro .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nfxwosstro .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nfxwosstro .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nfxwosstro .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nfxwosstro .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nfxwosstro .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nfxwosstro .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nfxwosstro .gt_spanner_row {
  border-bottom-style: hidden;
}

#nfxwosstro .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nfxwosstro .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nfxwosstro .gt_from_md > :first-child {
  margin-top: 0;
}

#nfxwosstro .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nfxwosstro .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nfxwosstro .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nfxwosstro .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nfxwosstro .gt_row_group_first td {
  border-top-width: 2px;
}

#nfxwosstro .gt_row_group_first th {
  border-top-width: 2px;
}

#nfxwosstro .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfxwosstro .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nfxwosstro .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nfxwosstro .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nfxwosstro .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfxwosstro .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nfxwosstro .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nfxwosstro .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nfxwosstro .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nfxwosstro .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nfxwosstro .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfxwosstro .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nfxwosstro .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nfxwosstro .gt_left {
  text-align: left;
}

#nfxwosstro .gt_center {
  text-align: center;
}

#nfxwosstro .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nfxwosstro .gt_font_normal {
  font-weight: normal;
}

#nfxwosstro .gt_font_bold {
  font-weight: bold;
}

#nfxwosstro .gt_font_italic {
  font-style: italic;
}

#nfxwosstro .gt_super {
  font-size: 65%;
}

#nfxwosstro .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nfxwosstro .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nfxwosstro .gt_indent_1 {
  text-indent: 5px;
}

#nfxwosstro .gt_indent_2 {
  text-indent: 10px;
}

#nfxwosstro .gt_indent_3 {
  text-indent: 15px;
}

#nfxwosstro .gt_indent_4 {
  text-indent: 20px;
}

#nfxwosstro .gt_indent_5 {
  text-indent: 25px;
}

#nfxwosstro .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#nfxwosstro div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Weight" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Weight</strong></th>
<th id="description" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Use for analysis from the…</strong></th>
<th id="cluster" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>variance PSU</strong></th>
<th id="strata" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>variance stratum</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240101a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh in-person sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240101c</td>
<td class="gt_row gt_left" headers="strata">V240101d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">V240101b</td>
<td class="gt_row gt_left" headers="description">Post-election fresh in-person sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240101c</td>
<td class="gt_row gt_left" headers="strata">V240101d</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240102a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh web sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240102c</td>
<td class="gt_row gt_left" headers="strata">V240102d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">V240102b</td>
<td class="gt_row gt_left" headers="description">Post-election fresh web sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240102c</td>
<td class="gt_row gt_left" headers="strata">V240102d</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240103a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh samples (fresh in-person + fresh web)</td>
<td class="gt_row gt_left" headers="cluster">V240103c</td>
<td class="gt_row gt_left" headers="strata">V240103d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">...</td>
<td class="gt_row gt_left" headers="description">...</td>
<td class="gt_row gt_left" headers="cluster">...</td>
<td class="gt_row gt_left" headers="strata">...</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240108a</td>
<td class="gt_row gt_left" headers="description">Pre-election full sample (fresh in-person + fresh web + panel)</td>
<td class="gt_row gt_left" headers="cluster">V240108c</td>
<td class="gt_row gt_left" headers="strata">V240108d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">V240108b</td>
<td class="gt_row gt_left" headers="description">Post-election full sample (fresh in-person + fresh web + panel)</td>
<td class="gt_row gt_left" headers="cluster">V240108c</td>
<td class="gt_row gt_left" headers="strata">V240108d</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="example-anes-2024-2" class="slide level2">
<h2>Example: ANES 2024</h2>
<div class="cell">
<div class="cell-output-display">
<div id="scfwnxumil" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#scfwnxumil table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#scfwnxumil thead, #scfwnxumil tbody, #scfwnxumil tfoot, #scfwnxumil tr, #scfwnxumil td, #scfwnxumil th {
  border-style: none;
}

#scfwnxumil p {
  margin: 0;
  padding: 0;
}

#scfwnxumil .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#scfwnxumil .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#scfwnxumil .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#scfwnxumil .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#scfwnxumil .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scfwnxumil .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scfwnxumil .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scfwnxumil .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#scfwnxumil .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#scfwnxumil .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#scfwnxumil .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#scfwnxumil .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#scfwnxumil .gt_spanner_row {
  border-bottom-style: hidden;
}

#scfwnxumil .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#scfwnxumil .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#scfwnxumil .gt_from_md > :first-child {
  margin-top: 0;
}

#scfwnxumil .gt_from_md > :last-child {
  margin-bottom: 0;
}

#scfwnxumil .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#scfwnxumil .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#scfwnxumil .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#scfwnxumil .gt_row_group_first td {
  border-top-width: 2px;
}

#scfwnxumil .gt_row_group_first th {
  border-top-width: 2px;
}

#scfwnxumil .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scfwnxumil .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#scfwnxumil .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#scfwnxumil .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scfwnxumil .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scfwnxumil .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#scfwnxumil .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#scfwnxumil .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#scfwnxumil .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scfwnxumil .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scfwnxumil .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scfwnxumil .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scfwnxumil .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scfwnxumil .gt_left {
  text-align: left;
}

#scfwnxumil .gt_center {
  text-align: center;
}

#scfwnxumil .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#scfwnxumil .gt_font_normal {
  font-weight: normal;
}

#scfwnxumil .gt_font_bold {
  font-weight: bold;
}

#scfwnxumil .gt_font_italic {
  font-style: italic;
}

#scfwnxumil .gt_super {
  font-size: 65%;
}

#scfwnxumil .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#scfwnxumil .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#scfwnxumil .gt_indent_1 {
  text-indent: 5px;
}

#scfwnxumil .gt_indent_2 {
  text-indent: 10px;
}

#scfwnxumil .gt_indent_3 {
  text-indent: 15px;
}

#scfwnxumil .gt_indent_4 {
  text-indent: 20px;
}

#scfwnxumil .gt_indent_5 {
  text-indent: 25px;
}

#scfwnxumil .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#scfwnxumil div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Weight" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Weight</strong></th>
<th id="description" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Use for analysis from the…</strong></th>
<th id="cluster" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>variance PSU</strong></th>
<th id="strata" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>variance stratum</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240101a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh in-person sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240101c</td>
<td class="gt_row gt_left" headers="strata">V240101d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">V240101b</td>
<td class="gt_row gt_left" headers="description">Post-election fresh in-person sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240101c</td>
<td class="gt_row gt_left" headers="strata">V240101d</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240102a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh web sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240102c</td>
<td class="gt_row gt_left" headers="strata">V240102d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">V240102b</td>
<td class="gt_row gt_left" headers="description">Post-election fresh web sample alone</td>
<td class="gt_row gt_left" headers="cluster">V240102c</td>
<td class="gt_row gt_left" headers="strata">V240102d</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240103a</td>
<td class="gt_row gt_left" headers="description">Pre-election fresh samples (fresh in-person + fresh web)</td>
<td class="gt_row gt_left" headers="cluster">V240103c</td>
<td class="gt_row gt_left" headers="strata">V240103d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight">...</td>
<td class="gt_row gt_left" headers="description">...</td>
<td class="gt_row gt_left" headers="cluster">...</td>
<td class="gt_row gt_left" headers="strata">...</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Weight">V240108a</td>
<td class="gt_row gt_left" headers="description">Pre-election full sample (fresh in-person + fresh web + panel)</td>
<td class="gt_row gt_left" headers="cluster">V240108c</td>
<td class="gt_row gt_left" headers="strata">V240108d</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Weight" style="background-color: #FF8484">V240108b</td>
<td class="gt_row gt_left" headers="description" style="background-color: #FF8484">Post-election full sample (fresh in-person + fresh web + panel)</td>
<td class="gt_row gt_left" headers="cluster" style="background-color: #FF8484">V240108c</td>
<td class="gt_row gt_left" headers="strata" style="background-color: #FF8484">V240108d</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Post-election, full sample: Weight = <code>V240108b</code></li>
<li>Use <code>V240108c</code> for variance PSU and <code>V240108d</code> for variance stratum</li>
</ul>
</section>
<section id="example-anes-2024-syntax" class="slide level2">
<h2>Example: ANES 2024 Syntax</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb96" data-code-line-numbers="|1|2|3|4-9|5|6|7,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a></a>anes_des <span class="ot">&lt;-</span> anes_2024 <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a></a>  <span class="fu">filter</span>(InterviewMode_Post <span class="sc">!=</span> <span class="st">"3. Paper (PAPI)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a></a>  <span class="fu">mutate</span>(<span class="at">Weight =</span> V240108b <span class="sc">/</span> <span class="fu">sum</span>(V240108b) <span class="sc">*</span> <span class="dv">232449541</span>) <span class="sc">%&gt;%</span></span>
<span id="cb96-4"><a></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb96-5"><a></a>    <span class="at">weights =</span> Weight,</span>
<span id="cb96-6"><a></a>    <span class="at">strata =</span> V240108d,</span>
<span id="cb96-7"><a></a>    <span class="at">ids =</span> V240108c,</span>
<span id="cb96-8"><a></a>    <span class="at">nest =</span> <span class="cn">TRUE</span></span>
<span id="cb96-9"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Target population: 232,449,541</li>
<li>Isabella has a blog post on calculating the population for ANES 2024 data: <a href="https://rworks.netlify.app/posts/anes2024/">https://rworks.netlify.app/posts/anes2024/</a></li>
</ul>
</section>
<section id="example-anes-2024-design" class="slide level2">
<h2>Example: ANES 2024 Design</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a></a><span class="fu">summary</span>(anes_des)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Stratified 1 - level Cluster Sampling design (with replacement)
With (1934) clusters.
Called via srvyr
Probabilities:
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
4.099e-06 1.734e-05 3.359e-05 4.545e-05 5.939e-05 4.075e-04 
Stratum Sizes: 
            1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22
obs        22 16 30 34 30 28 27 30 28 32 31 22 25 34 18 24 36 31 38 28 43 45
design.PSU  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2
actual.PSU  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2
           23 24 25 26 27 28 29 30 31 32  33 34 35 36 37 38 39 40 41 42 43
obs        49 22 40 38 47 32  8  6 12 19 306 12 13 12 10 10 11 11 13 12 13
design.PSU  2  2  2  2  2  2  2  2  2  2 306 12 13 12 10 10 11 11 13 12 13
actual.PSU  2  2  2  2  2  2  2  2  2  2 306 12 13 12 10 10 11 11 13 12 13
           44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65
obs        11 12 12 13 13  9 41 38 38 37 41 39 36 43 37 32 36 38 40 37 36 39
design.PSU 11 12 12 13 13  9 41 38 38 37 41 39 36 43 37 32 36 38 40 37 36 39
actual.PSU 11 12 12 13 13  9 41 38 38 37 41 39 36 43 37 32 36 38 40 37 36 39
           66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87
obs        41 44 42 43 42 44 44 41 44 41 42 41 42 40 39 38 51 31 45 40 47 59
design.PSU 41 44 42 43 42 44 44 41 44 41 42 41 42 40 39 38  3  2  2  2  2  2
actual.PSU 41 44 42 43 42 44 44 41 44 41 42 41 42 40 39 38  3  2  2  2  2  2
           88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106
obs        52 53 41 49 35 58 46 57 42 41 44 53  56  37  58  39  48  50  52
design.PSU  2  2  2  2  2  2  2  2  2  2  2  2   2   2   2   2   2   2   2
actual.PSU  2  2  2  2  2  2  2  2  2  2  2  2   2   2   2   2   2   2   2
           107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122
obs         57  51  33  55  44  43  36  32  28  23  31  36  34  37  29  44
design.PSU   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2
actual.PSU   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2
           123 124 125 126 127 128 129 130 131
obs         31  36  27  26  32  35  32  29  25
design.PSU   2   2   2   2   2   2   2   2   2
actual.PSU   2   2   2   2   2   2   2   2   2
Data variables:
 [1] "CaseID"                  "InterviewMode_Pre"      
 [3] "InterviewMode_Post"      "Weight"                 
 [5] "Stratum"                 "VarUnit"                
 [7] "CampaignInterest"        "VotedPres2020"          
 [9] "VotedPres2020_selection" "PartyID"                
[11] "TrustGovernment"         "TrustPeople"            
[13] "Age"                     "Education"              
[15] "RaceEth"                 "Sex"                    
[17] "Income"                  "EarlyVote2024"          
[19] "VotedPres2024"           "VotedPres2024_selection"
[21] "AgeGroup"                "EducationGroup"         
[23] "Income7"                 "V240001"                
[25] "V240002a"                "V240002b"               
[27] "V240108b"                "V240108d"               
[29] "V240108c"                "V241005"                
[31] "V241103"                 "V241104"                
[33] "V241038"                 "V241221"                
[35] "V241222"                 "V241223"                
[37] "V241227x"                "V241229"                
[39] "V241234"                 "V241458x"               
[41] "V241463"                 "V241499"                
[43] "V241501x"                "V241550"                
[45] "V241566x"                "V242065"                
[47] "V241035"                 "V241037"                
[49] "V242051"                 "V242095x"               
[51] "V242066"                 "V241039"                
[53] "V242067"                 "V242096x"               </code></pre>
</div>
</div>
</section>
<section id="national-health-and-nutrition-examination-survey-nhanes" class="slide level2 smaller">
<h2>National Health and Nutrition Examination Survey (NHANES)</h2>
<ul>
<li>Analysis weight: WTINT2YR</li>
<li>Variance Stratum: SDMVSTRA</li>
<li>Variance Primary Sampling Unit: VPSU</li>
<li>Large population</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Fill in the blank</a></li><li><a href="#tabset-1-2">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="sourceCode" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a></a>nhanes_des <span class="ot">&lt;-</span> nhanes <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a></a>   <span class="fu">as_survey_design</span>(</span>
<span id="cb99-3"><a></a>      <span class="at">weights =</span> ___________,</span>
<span id="cb99-4"><a></a>      <span class="at">ids =</span> ___________, </span>
<span id="cb99-5"><a></a>      <span class="at">strata =</span> ___________, </span>
<span id="cb99-6"><a></a>      <span class="at">fpc =</span> ___________, </span>
<span id="cb99-7"><a></a>   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2">
<div class="sourceCode" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a></a>nhanes_des <span class="ot">&lt;-</span> nhanes <span class="sc">%&gt;%</span></span>
<span id="cb100-2"><a></a>   <span class="fu">as_survey_design</span>(</span>
<span id="cb100-3"><a></a>      <span class="at">weights =</span> WTINT2YR,</span>
<span id="cb100-4"><a></a>      <span class="at">ids =</span> VPSU,</span>
<span id="cb100-5"><a></a>      <span class="at">strata =</span> SDMVSTRA,</span>
<span id="cb100-6"><a></a>      <span class="at">fpc =</span> <span class="cn">NULL</span></span>
<span id="cb100-7"><a></a>   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment tabswitch">

</div>
</section></section>
<section>
<section id="designs-with-replicate-weights" class="title-slide slide level1 center" data-background-color="#087e8b">
<h1>Designs <em>with</em> replicate weights</h1>

</section>
<section id="replicate-weights-overview" class="slide level2">
<h2>Replicate weights overview</h2>
<ul>
<li><p>Replicate weights are a method to estimate variability that does not rely on stratum and clusters (can assist with disclosure)</p></li>
<li><p>Common replicate weight methods</p>
<ul>
<li>Balanced repeated replication (BRR)</li>
<li>Fay’s BRR</li>
<li>Jackknife</li>
<li>Bootstrap</li>
</ul></li>
</ul>
</section>
<section id="as_survey_rep-syntax" class="slide level2 smaller">
<h2><code>as_survey_rep()</code>: Syntax</h2>
<p><code>as_survey_rep()</code> creates a <code>tbl_svy</code> object that then correctly calculates weighted estimates and SEs</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101" data-code-line-numbers="|1|2|3|4|5|6-9|10-16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a></a><span class="fu">as_survey_rep</span>(</span>
<span id="cb101-2"><a></a>  .data,</span>
<span id="cb101-3"><a></a>  <span class="at">variables =</span> <span class="cn">NULL</span>, <span class="co"># defaults to all in .data</span></span>
<span id="cb101-4"><a></a>  <span class="at">repweights =</span> <span class="cn">NULL</span>, <span class="co"># Variables specifying the replication weights</span></span>
<span id="cb101-5"><a></a>  <span class="at">weights =</span> <span class="cn">NULL</span>, <span class="co"># Variable specifying the analytic/main weight</span></span>
<span id="cb101-6"><a></a>  <span class="at">type =</span> <span class="fu">c</span>(</span>
<span id="cb101-7"><a></a>    <span class="st">"BRR"</span>, <span class="st">"Fay"</span>, <span class="st">"JK1"</span>, <span class="st">"JKn"</span>, <span class="st">"bootstrap"</span>,</span>
<span id="cb101-8"><a></a>    <span class="st">"successive-difference"</span>, <span class="st">"ACS"</span>, <span class="st">"other"</span></span>
<span id="cb101-9"><a></a>  ), <span class="co"># Type of replication weight</span></span>
<span id="cb101-10"><a></a>  <span class="at">combined_weights =</span> <span class="cn">TRUE</span>, <span class="co"># TRUE if repweights already include sampling weights, usually TRUE</span></span>
<span id="cb101-11"><a></a>  <span class="at">rho =</span> <span class="cn">NULL</span>, <span class="co"># Shrinkage factor for Fay's method</span></span>
<span id="cb101-12"><a></a>  <span class="at">bootstrap_average =</span> <span class="cn">NULL</span>, <span class="co"># For type="bootstrap", if the bootstrap weights have been averaged, gives the number of iterations averaged over</span></span>
<span id="cb101-13"><a></a>  <span class="at">scale =</span> <span class="cn">NULL</span>, <span class="co"># Scaling constant for variance</span></span>
<span id="cb101-14"><a></a>  <span class="at">rscales =</span> <span class="cn">NULL</span>, <span class="co"># Scaling constants for variance</span></span>
<span id="cb101-15"><a></a>  <span class="at">mse =</span> <span class="fu">getOption</span>(<span class="st">"survey.replicates.mse"</span>), <span class="co"># If TRUE, compute variance based around point estimates rather than mean of replicates</span></span>
<span id="cb101-16"><a></a>  <span class="at">degf =</span> <span class="cn">NULL</span>, <span class="co"># Design degrees of freedom, otherwise calculated based on number of replicate weights</span></span>
<span id="cb101-17"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="syntax-for-common-replicate-methods" class="slide level2 smaller">
<h2>Syntax for common replicate methods</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb102" data-code-line-numbers="1-7|9-16|18-25|27-34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a></a>brr_des <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb102-3"><a></a>    <span class="at">weights =</span> WT,</span>
<span id="cb102-4"><a></a>    <span class="at">repweights =</span> <span class="fu">starts_with</span>(<span class="st">"REPWT"</span>),</span>
<span id="cb102-5"><a></a>    <span class="at">type =</span> <span class="st">"BRR"</span>,</span>
<span id="cb102-6"><a></a>    <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb102-7"><a></a>  )</span>
<span id="cb102-8"><a></a></span>
<span id="cb102-9"><a></a>fay_des <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb102-10"><a></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb102-11"><a></a>    <span class="at">weights =</span> WT0,</span>
<span id="cb102-12"><a></a>    <span class="at">repweights =</span> <span class="fu">num_range</span>(<span class="st">"WT"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb102-13"><a></a>    <span class="at">type =</span> <span class="st">"Fay"</span>,</span>
<span id="cb102-14"><a></a>    <span class="at">mse =</span> <span class="cn">TRUE</span>,</span>
<span id="cb102-15"><a></a>    <span class="at">rho =</span> <span class="fl">0.3</span></span>
<span id="cb102-16"><a></a>  )</span>
<span id="cb102-17"><a></a></span>
<span id="cb102-18"><a></a>jkn_des <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb102-19"><a></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb102-20"><a></a>    <span class="at">weights =</span> WT0,</span>
<span id="cb102-21"><a></a>    <span class="at">repweights =</span> WT1<span class="sc">:</span>WT20,</span>
<span id="cb102-22"><a></a>    <span class="at">type =</span> <span class="st">"JKN"</span>,</span>
<span id="cb102-23"><a></a>    <span class="at">mse =</span> <span class="cn">TRUE</span>,</span>
<span id="cb102-24"><a></a>    <span class="at">rscales =</span> <span class="fu">rep</span>(<span class="fl">0.1</span>, <span class="dv">20</span>)</span>
<span id="cb102-25"><a></a>  )</span>
<span id="cb102-26"><a></a></span>
<span id="cb102-27"><a></a>bs_des <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb102-28"><a></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb102-29"><a></a>    <span class="at">weights =</span> pw,</span>
<span id="cb102-30"><a></a>    <span class="at">repweights =</span> pw1<span class="sc">:</span>pw50,</span>
<span id="cb102-31"><a></a>    <span class="at">type =</span> <span class="st">"bootstrap"</span>,</span>
<span id="cb102-32"><a></a>    <span class="at">scale =</span> <span class="fl">0.02186589</span>,</span>
<span id="cb102-33"><a></a>    <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb102-34"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Note: this uses fake data and can’t be run, just syntax examples</li>
</ul>
</section></section>
<section>
<section id="example-1" class="title-slide slide level1 center" data-background-color="#0b3954">
<h1>Example</h1>

</section>
<section id="example-recs-2020" class="slide level2 smaller">
<h2>Example: RECS 2020</h2>
<ul>
<li>Using the microdata file to compute estimates and relative standard errors<sup>1</sup></li>
</ul>
<blockquote>
<p>The following instructions are examples for calculating any RECS estimate using the final weights (NWEIGHT) and the associated RSE using the replicate weights (NWEIGHT1 – NWEIGHT60).</p>
</blockquote>
<ul>
<li>Includes R syntax for {survey} package which gets us what we need for {srvyr}</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a></a>repweights <span class="ot">&lt;-</span> <span class="fu">select</span>(RECS2020, NWEIGHT1<span class="sc">:</span>NWEIGHT60)</span>
<span id="cb103-2"><a></a>RECS <span class="ot">&lt;-</span> <span class="fu">svrepdesign</span>(</span>
<span id="cb103-3"><a></a>  <span class="at">data =</span> RECS2020,</span>
<span id="cb103-4"><a></a>  <span class="at">weight =</span> <span class="sc">~</span>NWEIGHT,</span>
<span id="cb103-5"><a></a>  <span class="at">repweights =</span> repweights,</span>
<span id="cb103-6"><a></a>  <span class="at">type =</span> <span class="st">"JK1"</span>,</span>
<span id="cb103-7"><a></a>  <span class="at">combined.weights =</span> <span class="cn">TRUE</span>,</span>
<span id="cb103-8"><a></a>  <span class="at">scale =</span> (<span class="fu">ncol</span>(repweights) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="fu">ncol</span>(repweights),</span>
<span id="cb103-9"><a></a>  <span class="at">mse =</span> <span class="cn">TRUE</span></span>
<span id="cb103-10"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside><ol class="aside-footnotes"><li id="fn3"><p><a href="https://www.eia.gov/consumption/residential/data/2020/pdf/microdata-guide.pdf" class="uri">https://www.eia.gov/consumption/residential/data/2020/pdf/microdata-guide.pdf</a></p></li></ol></aside></section>
<section id="example-recs-2020-syntax" class="slide level2">
<h2>Example: RECS 2020 Syntax</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb104" data-code-line-numbers="|1|2,8|3|4|5-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a></a>recs_des <span class="ot">&lt;-</span> recs_2020 <span class="sc">%&gt;%</span></span>
<span id="cb104-2"><a></a>  <span class="fu">as_survey_rep</span>(</span>
<span id="cb104-3"><a></a>    <span class="at">weight =</span> NWEIGHT, </span>
<span id="cb104-4"><a></a>    <span class="at">repweights =</span> NWEIGHT1<span class="sc">:</span>NWEIGHT60, </span>
<span id="cb104-5"><a></a>    <span class="at">type =</span> <span class="st">"JK1"</span>, </span>
<span id="cb104-6"><a></a>    <span class="at">scale =</span> <span class="dv">59</span> <span class="sc">/</span> <span class="dv">60</span>, </span>
<span id="cb104-7"><a></a>    <span class="at">mse =</span> <span class="cn">TRUE</span> </span>
<span id="cb104-8"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-recs-2020-output" class="slide level2">
<h2>Example: RECS 2020 Output</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a></a><span class="fu">summary</span>(recs_des) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: Called via srvyr
Unstratified cluster jacknife (JK1) with 60 replicates and MSE variances.
Sampling variables:
  - repweights: `NWEIGHT1 + NWEIGHT2 + NWEIGHT3 + NWEIGHT4 + NWEIGHT5 +
    NWEIGHT6 + NWEIGHT7 + NWEIGHT8 + NWEIGHT9 + NWEIGHT10 + NWEIGHT11 +
    NWEIGHT12 + NWEIGHT13 + NWEIGHT14 + NWEIGHT15 + NWEIGHT16 + NWEIGHT17 +
    NWEIGHT18 + NWEIGHT19 + NWEIGHT20 + NWEIGHT21 + NWEIGHT22 + NWEIGHT23 +
    NWEIGHT24 + NWEIGHT25 + NWEIGHT26 + NWEIGHT27 + NWEIGHT28 + NWEIGHT29 +
    NWEIGHT30 + NWEIGHT31 + NWEIGHT32 + NWEIGHT33 + NWEIGHT34 + NWEIGHT35 +
    NWEIGHT36 + NWEIGHT37 + NWEIGHT38 + NWEIGHT39 + NWEIGHT40 + NWEIGHT41 +
    NWEIGHT42 + NWEIGHT43 + NWEIGHT44 + NWEIGHT45 + NWEIGHT46 + NWEIGHT47 +
    NWEIGHT48 + NWEIGHT49 + NWEIGHT50 + NWEIGHT51 + NWEIGHT52 + NWEIGHT53 +
    NWEIGHT54 + NWEIGHT55 + NWEIGHT56 + NWEIGHT57 + NWEIGHT58 + NWEIGHT59 +
    NWEIGHT60` 
  - weights: NWEIGHT 
Data variables: 
  - DOEID (dbl), ClimateRegion_BA (fct), Urbanicity (fct), Region (fct),
    REGIONC (chr), Division (fct), STATE_FIPS (chr), state_postal (fct),
    state_name (fct), HDD65 (dbl), CDD65 (dbl), HDD30YR (dbl), CDD30YR
    (dbl), HousingUnitType (fct), YearMade (ord), TOTSQFT_EN (dbl), TOTHSQFT
    (dbl), TOTCSQFT (dbl), SpaceHeatingUsed (lgl), ACUsed (lgl),
    HeatingBehavior (fct), WinterTempDay (dbl), WinterTempAway (dbl),
    WinterTempNight (dbl), ACBehavior (fct), SummerTempDay (dbl),
    SummerTempAway (dbl), SummerTempNight (dbl), NWEIGHT (dbl), NWEIGHT1
    (dbl), NWEIGHT2 (dbl), NWEIGHT3 (dbl), NWEIGHT4 (dbl), NWEIGHT5 (dbl),
    NWEIGHT6 (dbl), NWEIGHT7 (dbl), NWEIGHT8 (dbl), NWEIGHT9 (dbl),
    NWEIGHT10 (dbl), NWEIGHT11 (dbl), NWEIGHT12 (dbl), NWEIGHT13 (dbl),
    NWEIGHT14 (dbl), NWEIGHT15 (dbl), NWEIGHT16 (dbl), NWEIGHT17 (dbl),
    NWEIGHT18 (dbl), NWEIGHT19 (dbl), NWEIGHT20 (dbl), NWEIGHT21 (dbl),
    NWEIGHT22 (dbl), NWEIGHT23 (dbl), NWEIGHT24 (dbl), NWEIGHT25 (dbl),
    NWEIGHT26 (dbl), NWEIGHT27 (dbl), NWEIGHT28 (dbl), NWEIGHT29 (dbl),
    NWEIGHT30 (dbl), NWEIGHT31 (dbl), NWEIGHT32 (dbl), NWEIGHT33 (dbl),
    NWEIGHT34 (dbl), NWEIGHT35 (dbl), NWEIGHT36 (dbl), NWEIGHT37 (dbl),
    NWEIGHT38 (dbl), NWEIGHT39 (dbl), NWEIGHT40 (dbl), NWEIGHT41 (dbl),
    NWEIGHT42 (dbl), NWEIGHT43 (dbl), NWEIGHT44 (dbl), NWEIGHT45 (dbl),
    NWEIGHT46 (dbl), NWEIGHT47 (dbl), NWEIGHT48 (dbl), NWEIGHT49 (dbl),
    NWEIGHT50 (dbl), NWEIGHT51 (dbl), NWEIGHT52 (dbl), NWEIGHT53 (dbl),
    NWEIGHT54 (dbl), NWEIGHT55 (dbl), NWEIGHT56 (dbl), NWEIGHT57 (dbl),
    NWEIGHT58 (dbl), NWEIGHT59 (dbl), NWEIGHT60 (dbl), BTUEL (dbl), DOLLAREL
    (dbl), BTUNG (dbl), DOLLARNG (dbl), BTULP (dbl), DOLLARLP (dbl), BTUFO
    (dbl), DOLLARFO (dbl), BTUWOOD (dbl), TOTALBTU (dbl), TOTALDOL (dbl)
Variables: 
  [1] "DOEID"            "ClimateRegion_BA" "Urbanicity"      
  [4] "Region"           "REGIONC"          "Division"        
  [7] "STATE_FIPS"       "state_postal"     "state_name"      
 [10] "HDD65"            "CDD65"            "HDD30YR"         
 [13] "CDD30YR"          "HousingUnitType"  "YearMade"        
 [16] "TOTSQFT_EN"       "TOTHSQFT"         "TOTCSQFT"        
 [19] "SpaceHeatingUsed" "ACUsed"           "HeatingBehavior" 
 [22] "WinterTempDay"    "WinterTempAway"   "WinterTempNight" 
 [25] "ACBehavior"       "SummerTempDay"    "SummerTempAway"  
 [28] "SummerTempNight"  "NWEIGHT"          "NWEIGHT1"        
 [31] "NWEIGHT2"         "NWEIGHT3"         "NWEIGHT4"        
 [34] "NWEIGHT5"         "NWEIGHT6"         "NWEIGHT7"        
 [37] "NWEIGHT8"         "NWEIGHT9"         "NWEIGHT10"       
 [40] "NWEIGHT11"        "NWEIGHT12"        "NWEIGHT13"       
 [43] "NWEIGHT14"        "NWEIGHT15"        "NWEIGHT16"       
 [46] "NWEIGHT17"        "NWEIGHT18"        "NWEIGHT19"       
 [49] "NWEIGHT20"        "NWEIGHT21"        "NWEIGHT22"       
 [52] "NWEIGHT23"        "NWEIGHT24"        "NWEIGHT25"       
 [55] "NWEIGHT26"        "NWEIGHT27"        "NWEIGHT28"       
 [58] "NWEIGHT29"        "NWEIGHT30"        "NWEIGHT31"       
 [61] "NWEIGHT32"        "NWEIGHT33"        "NWEIGHT34"       
 [64] "NWEIGHT35"        "NWEIGHT36"        "NWEIGHT37"       
 [67] "NWEIGHT38"        "NWEIGHT39"        "NWEIGHT40"       
 [70] "NWEIGHT41"        "NWEIGHT42"        "NWEIGHT43"       
 [73] "NWEIGHT44"        "NWEIGHT45"        "NWEIGHT46"       
 [76] "NWEIGHT47"        "NWEIGHT48"        "NWEIGHT49"       
 [79] "NWEIGHT50"        "NWEIGHT51"        "NWEIGHT52"       
 [82] "NWEIGHT53"        "NWEIGHT54"        "NWEIGHT55"       
 [85] "NWEIGHT56"        "NWEIGHT57"        "NWEIGHT58"       
 [88] "NWEIGHT59"        "NWEIGHT60"        "BTUEL"           
 [91] "DOLLAREL"         "BTUNG"            "DOLLARNG"        
 [94] "BTULP"            "DOLLARLP"         "BTUFO"           
 [97] "DOLLARFO"         "BTUWOOD"          "TOTALBTU"        
[100] "TOTALDOL"        </code></pre>
</div>
</div>
</section>
<section id="american-community-survey-acs" class="slide level2">
<h2>American Community Survey (ACS)</h2>
<ul>
<li>Analysis weight: PWGTP</li>
<li>replicate weights: PWGTP1-PWGTP180</li>
<li>jackknife with scale adjustment of 4/80</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Fill in the blank</a></li><li><a href="#tabset-2-2">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="sourceCode" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a></a>acs_des <span class="ot">&lt;-</span> acs_pums <span class="sc">%&gt;%</span></span>
<span id="cb107-2"><a></a>   <span class="fu">as_survey_rep</span>(</span>
<span id="cb107-3"><a></a>      <span class="at">weights =</span> ___________,</span>
<span id="cb107-4"><a></a>      <span class="at">repweights =</span> ___________,</span>
<span id="cb107-5"><a></a>      <span class="at">type =</span> ___________,</span>
<span id="cb107-6"><a></a>      <span class="at">scale =</span> _________ </span>
<span id="cb107-7"><a></a>   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2">
<div class="sourceCode" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a></a>acs_des <span class="ot">&lt;-</span> acs_pums <span class="sc">%&gt;%</span></span>
<span id="cb108-2"><a></a>   <span class="fu">as_survey_rep</span>(</span>
<span id="cb108-3"><a></a>      <span class="at">weights =</span> PWGTP,</span>
<span id="cb108-4"><a></a>      <span class="at">repweights =</span> <span class="fu">num_range</span>(<span class="st">"PWGTP"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">80</span>),</span>
<span id="cb108-5"><a></a>      <span class="at">type =</span> <span class="st">"JK1"</span>,</span>
<span id="cb108-6"><a></a>      <span class="at">scale =</span> <span class="dv">4</span><span class="sc">/</span><span class="dv">80</span></span>
<span id="cb108-7"><a></a>   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment tabswitch">

</div>
</section>
<section id="tips-for-correctly-specifying" class="slide level2">
<h2>Tips for correctly specifying</h2>
<div>
<ul>
<li class="fragment"><p>For public use datasets: <strong>Documentation, Documentation, Documentation</strong></p>
<ul>
<li class="fragment">Read through user guides</li>
<li class="fragment">Search for keywords (e.g., “weight”, “strata”) in the user guides</li>
<li class="fragment">Google</li>
<li class="fragment">Reach out to the study contact with questions</li>
</ul></li>
<li class="fragment"><p>For data you create: Please provide good documentation!</p></li>
</ul>
</div>
</section></section>
<section id="thanks" class="title-slide slide level1 center" data-background-image="images/header.png">
<h1>Thanks!</h1>


</section>


    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/favicon.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript">
      Reveal.on('fragmentshown', (event) => {
        if (event.fragment.classList.contains("tabswitch")) {
       Reveal
            .getCurrentSlide()
            .querySelector(".panel-tabset ul li:last-of-type a")
            .click()
        }
      });

      Reveal.on('fragmenthidden', (event) => {
        if (event.fragment.classList.contains("tabswitch")) {
       Reveal
            .getCurrentSlide()
            .querySelector(".panel-tabset ul li:first-of-type a")
            .click()
        }
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>